2025-06-03 16:19:14,374 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:19:14,386 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:19:35,510 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:19:35] "[35m[1mGET / HTTP/1.1[0m" 500 -
2025-06-03 16:19:35,680 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:19:35] "GET /?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1" 200 -
2025-06-03 16:19:35,718 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:19:35] "GET /?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1" 200 -
2025-06-03 16:19:35,761 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:19:35] "GET /?__debugger__=yes&cmd=resource&f=console.png&s=k3HtIBKv3VLXFapy9Rly HTTP/1.1" 200 -
2025-06-03 16:19:35,786 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:19:35] "GET /?__debugger__=yes&cmd=resource&f=console.png HTTP/1.1" 200 -
2025-06-03 16:21:52,632 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:22:08,523 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-03 16:22:08,524 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-03 16:22:08,526 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:22:11,550 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:22:11,559 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:22:11,794 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:11] "GET / HTTP/1.1" 200 -
2025-06-03 16:22:11,894 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:11] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:22:12,926 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:22:12,927 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:22:13,000 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:22:13,004 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:22:13,005 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:22:13,006 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:22:13,015 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:22:13,020 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:22:13,022 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:22:13,022 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:22:13,027 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,033 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,047 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,050 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:22:13,051 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:22:13,058 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:22:13,060 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:22:13,063 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,065 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,076 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:22:13,078 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:22:13,106 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:22:13,106 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,115 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:22:13,117 - __main__ - DEBUG - Filter: today
2025-06-03 16:22:13,120 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:22:13,122 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,126 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,128 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,147 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:22:13,156 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:22:13
2025-06-03 16:22:13,161 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,163 - __main__ - DEBUG - Query results: []
2025-06-03 16:22:13,163 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:22:13,165 - __main__ - WARNING - No data returned from query
2025-06-03 16:22:13,165 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,180 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,183 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,184 - __main__ - DEBUG - Returning performers: []
2025-06-03 16:22:13,195 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:22:13,196 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,220 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:22:13,228 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:22:13,244 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:13] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:22:17,610 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:22:17,611 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:17] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:22:53,178 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:53] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-03 16:22:55,036 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:55] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-03 16:22:56,889 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:56] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-03 16:22:59,606 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:22:59,607 - __main__ - DEBUG - Filter: yesterday
2025-06-03 16:22:59,642 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-02 23:59:59
2025-06-03 16:22:59,644 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:22:59,644 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:22:59,645 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:22:59,646 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:22:59,653 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:22:59,661 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:22:59] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-03 16:23:02,613 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:23:02,614 - __main__ - DEBUG - Filter: this-week
2025-06-03 16:23:02,636 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-03 16:23:02
2025-06-03 16:23:02,637 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:23:02,637 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:23:02,639 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:23:02,639 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:23:02,640 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:23:02,640 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:23:02] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-03 16:23:05,310 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:23:05,311 - __main__ - DEBUG - Filter: this-month
2025-06-03 16:23:05,326 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-03 16:23:05
2025-06-03 16:23:05,327 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00')), ('Clara Lee', Decimal('20000.00'))]
2025-06-03 16:23:05,327 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:23:05,329 - __main__ - DEBUG - DataFrame shape: (3, 2)
2025-06-03 16:23:05,331 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:23:05,335 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Clara Lee', 'sales': '$20,000.00 in sales', 'progress': Decimal('40.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:23:05,336 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:23:05] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-03 16:23:09,199 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:23:09,200 - __main__ - DEBUG - Filter: today
2025-06-03 16:23:09,212 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:23:09
2025-06-03 16:23:09,217 - __main__ - DEBUG - Query results: []
2025-06-03 16:23:09,217 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:23:09,218 - __main__ - WARNING - No data returned from query
2025-06-03 16:23:09,219 - __main__ - DEBUG - Returning performers: []
2025-06-03 16:23:09,219 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:23:09] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:24:25,411 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:24:25] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-03 16:25:00,784 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:25:00,787 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:25:00,828 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:25:00,841 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:25:00,843 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:00,844 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:25:00,848 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:00,856 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,859 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,862 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:00,872 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:25:00,885 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:25:00,887 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:25:00,889 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,891 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:25:00,892 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:25:00,909 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:25:00,910 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:25:00,933 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,940 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,944 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,966 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,968 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:25:00,975 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:00] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:01,000 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:01] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:01,001 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:01] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:01,002 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:01] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:25:01,021 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:01] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:07,811 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:25:07,814 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:07] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:11,153 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:25:11,158 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:25:11,160 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:25:11,188 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:11,190 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:25:11,200 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:25:11,205 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:11,207 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:25:11,209 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:25:11,210 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:25:11,211 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:25:11,214 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:25:11,219 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:25:11,221 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:25:11,235 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,239 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,242 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,277 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:25:11,290 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,292 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,317 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,353 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,382 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,392 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,399 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,416 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,420 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:11,452 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:11] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:25:12,241 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:25:12,242 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:25:12] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:27:16,585 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:27:17,545 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:27:20,602 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:27:20,609 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:27:25,474 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:25] "GET / HTTP/1.1" 200 -
2025-06-03 16:27:25,587 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:25] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:27:26,769 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:27:26,770 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:27:26,935 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:27:26,940 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:27:26,941 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:27:26,942 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:27:26,942 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:27:26,947 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:27:26,951 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:27:26,953 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:27:26,956 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:27:26,964 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
            WHERE order_date IS NOT NULL
                AND total_amount IS NOT NULL
             WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:27:26,965 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:27:26,966 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:27:26,973 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:27:26,974 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:27:26,983 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:27:26,989 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:26] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:27:26,989 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:27:27,008 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:27:27,009 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:27:27,021 - __main__ - ERROR - Error in sales_trend: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'WHERE'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-06-03 16:27:27,023 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:27:27,027 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 427, in sales_trend
    cursor.execute(query, params)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'WHERE'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")

2025-06-03 16:27:27,031 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,041 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,043 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,086 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,086 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,106 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:27:27,107 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,108 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,109 - __main__ - DEBUG - Filter: today
2025-06-03 16:27:27,118 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:27:27,136 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:27:27,139 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:27:27
2025-06-03 16:27:27,139 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,158 - __main__ - DEBUG - Query results: []
2025-06-03 16:27:27,166 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:27:27,173 - __main__ - WARNING - No data returned from query
2025-06-03 16:27:27,175 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,176 - __main__ - DEBUG - Returning performers: []
2025-06-03 16:27:27,181 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,191 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:27:27,202 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,234 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,259 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:27:27,272 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:27:27,287 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:27] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:27:32,290 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:27:32,291 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:27:32] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:28:14,976 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-03 16:28:14,976 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-03 16:28:14,978 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:28:17,630 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:28:17,636 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:28:17,968 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:17] "GET / HTTP/1.1" 200 -
2025-06-03 16:28:18,055 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:28:18,640 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:28:18,678 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:28:18,679 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:28:18,683 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:28:18,697 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:28:18,702 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:28:18,705 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:28:18,707 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:28:18,709 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:28:18,712 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:28:18,714 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
            WHERE order_date IS NOT NULL
                AND total_amount IS NOT NULL
             WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:28:18,717 - __main__ - ERROR - Error in sales_trend: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'WHERE'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
2025-06-03 16:28:18,718 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:28:18,719 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:28:18,722 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:28:18,722 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 427, in sales_trend
    cursor.execute(query, params)
pyodbc.ProgrammingError: ('42000', "[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Incorrect syntax near the keyword 'WHERE'. (156) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")

2025-06-03 16:28:18,726 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:28:18,730 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:28:18,731 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:28:18,732 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,733 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:28:18,743 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,753 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:28:18,776 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,791 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:28:18,817 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,830 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,908 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:28:18,931 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:28:18,933 - __main__ - DEBUG - Filter: today
2025-06-03 16:28:18,971 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:28:18
2025-06-03 16:28:18,999 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:18] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,000 - __main__ - DEBUG - Query results: []
2025-06-03 16:28:19,011 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:28:19,011 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,012 - __main__ - WARNING - No data returned from query
2025-06-03 16:28:19,013 - __main__ - DEBUG - Returning performers: []
2025-06-03 16:28:19,013 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:28:19,049 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:28:19,068 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,097 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:28:19,098 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:28:19,128 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,135 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,168 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,186 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,229 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,250 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:28:19,251 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:19] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:28:24,863 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:28:24,864 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:28:24] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:33:13,462 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:33:14,218 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:33:16,995 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:33:17,004 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:33:18,474 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:33:18,766 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:33:27,441 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-03 16:33:27,443 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-03 16:33:27,445 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:33:30,152 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:33:30,157 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:33:37,702 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:37] "GET / HTTP/1.1" 200 -
2025-06-03 16:33:37,794 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:37] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:33:38,407 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:33:38,411 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:33:38,413 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:33:38,418 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:33:38,420 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:33:38,426 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:33:38,426 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:33:38,429 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:33:38,434 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:33:38,436 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:33:38,436 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:33:38,437 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,443 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:33:38,446 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:33:38,447 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:33:38,448 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:33:38,457 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:33:38,459 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:33:38,460 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:33:38,468 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:33:38,477 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:33:38,489 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,491 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:33:38,493 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:33:38,493 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:33:38,495 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:33:38,498 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:33:38,502 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:33:38,504 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:33:38,506 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 454, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:33:38,508 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,510 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,532 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,533 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,540 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:33:38,541 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,557 - __main__ - DEBUG - Filter: today
2025-06-03 16:33:38,562 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:33:38,578 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,588 - __main__ - DEBUG - Executing query: 
        SELECT sp.salesperson_name, SUM(so.total_amount) as total_sales
        FROM sales_orders so
        JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
        WHERE so.order_date >= ? AND so.order_date <= ?
        GROUP BY sp.salesperson_name
        ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:33:38
2025-06-03 16:33:38,601 - __main__ - DEBUG - Query results: []
2025-06-03 16:33:38,603 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:33:38,605 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:33:38,606 - __main__ - WARNING - No data returned from query
2025-06-03 16:33:38,608 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,613 - __main__ - DEBUG - Returning performers: []
2025-06-03 16:33:38,621 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:33:38,622 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,628 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:33:38,691 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,702 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,704 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,757 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,761 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:38,779 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:38] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:33:44,590 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:33:44,591 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:33:44] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:34:44,240 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:34:45,286 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:34:50,453 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:34:50,466 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:34:50,786 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:50] "GET / HTTP/1.1" 200 -
2025-06-03 16:34:50,887 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:50] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:34:51,355 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:34:51,357 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:34:51,366 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:34:51,367 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:34:51,502 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:34:51,502 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:34:51,517 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:34:51,522 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:34:51,523 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:34:51,525 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:34:51,527 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:34:51,528 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:34:51,530 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,532 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:34:51,532 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:34:51,535 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:34:51,538 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:34:51,550 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:34:51,551 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:34:51,552 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:34:51,555 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:34:51,559 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:34:51,566 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:34:51,567 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:34:51,568 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:34:51,568 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,569 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:34:51,570 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:34:51,572 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:34:51,585 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:34:51,602 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,652 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-salesperson HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,660 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,701 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,725 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,727 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,747 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:34:51,748 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:34:51,748 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,750 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:34:51
2025-06-03 16:34:51,783 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,785 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:34:51,787 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:34:51,833 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,842 - __main__ - DEBUG - Query results: []
2025-06-03 16:34:51,843 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:34:51,847 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:34:51,867 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:34:51,886 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,900 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,916 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,950 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:34:51,964 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:34:51,967 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:34:51,982 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:34:51,986 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:34:51,987 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:34:51,998 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:51] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:34:52,017 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:52] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:34:57,553 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:34:57,559 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:34:57] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:35:02,278 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:35:02,279 - __main__ - DEBUG - Parameters: filter=yesterday, start_date=None, end_date=None
2025-06-03 16:35:02,280 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-02 23:59:59
2025-06-03 16:35:02,289 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:35:02,290 - __main__ - DEBUG - Number of rows: 2
2025-06-03 16:35:02,291 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:35:02,292 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:35:02,293 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:35:02,295 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:35:02,296 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:35:02] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-03 16:35:05,697 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:35:05,698 - __main__ - DEBUG - Parameters: filter=this-week, start_date=None, end_date=None
2025-06-03 16:35:05,699 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-03 16:35:05
2025-06-03 16:35:05,712 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:35:05,712 - __main__ - DEBUG - Number of rows: 2
2025-06-03 16:35:05,712 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:35:05,713 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:35:05,713 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:35:05,714 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:35:05,715 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:35:05] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-03 16:35:08,304 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:35:08,306 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-03 16:35:08,308 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-03 16:35:08
2025-06-03 16:35:08,316 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00')), ('Clara Lee', Decimal('20000.00'))]
2025-06-03 16:35:08,317 - __main__ - DEBUG - Number of rows: 3
2025-06-03 16:35:08,317 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:35:08,317 - __main__ - DEBUG - DataFrame shape: (3, 2)
2025-06-03 16:35:08,317 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:35:08,320 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Clara Lee', 'sales': '$20,000.00 in sales', 'progress': Decimal('40.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:35:08,322 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:35:08] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-03 16:35:10,002 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:35:10,004 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:35:10,004 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:35:10
2025-06-03 16:35:10,015 - __main__ - DEBUG - Query results: []
2025-06-03 16:35:10,015 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:35:10,016 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:35:10,016 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:35:10,019 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:35:10,021 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:35:10,022 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:35:10,029 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:35:10,031 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:35:10] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:36:09,551 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:36:10,669 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:36:15,509 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:36:15,522 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:36:15,857 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:15] "GET / HTTP/1.1" 200 -
2025-06-03 16:36:15,948 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:15] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:36:16,377 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:36:16,379 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:36:16,384 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:16,384 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:36:16,463 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:16,463 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:16,467 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:36:16,467 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:36:16,472 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:16,473 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:36:16,475 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:16,475 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:36:16,478 - __main__ - DEBUG - Number of rows: 17
2025-06-03 16:36:16,480 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:16,481 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:36:16,482 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:36:16,490 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:36:16,492 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:36:16,493 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 16:36:16,494 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:16,496 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:36:16,501 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:16,506 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:36:16,509 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:36:16,517 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:36:16,521 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:16,532 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:16,542 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:36:16,577 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:36:16,589 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:36:16,590 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:16,607 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:16,614 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:36:16,622 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:36:16,626 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,675 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:36:16,681 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:36:16,689 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:36:16,708 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:36:16,740 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:36:16,773 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,775 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,801 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,833 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,835 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:36:16,837 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:36:16,838 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:16,856 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,869 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:36:16,876 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:36:16,897 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:36:16
2025-06-03 16:36:16,908 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:36:16,910 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 16:36:16,920 - __main__ - DEBUG - Query results: []
2025-06-03 16:36:16,922 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:36:16,925 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:36:16,938 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,941 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:36:16,942 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:16,987 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:16] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:36:16,997 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:36:17,003 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:36:17,004 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:17,018 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:36:17,021 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:36:17,033 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:36:17,038 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:36:17,039 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:36:17,040 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:36:17,073 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:36:17,076 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:36:17,084 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:17,088 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:17,091 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:36:17,094 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:36:17,122 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:17,155 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:17,207 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:36:17,222 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:36:17,240 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:17] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:21,447 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:36:21,448 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:21] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:32,403 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:36:32,404 - __main__ - DEBUG - Parameters: filter=yesterday, start_date=None, end_date=None
2025-06-03 16:36:32,406 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-02 23:59:59
2025-06-03 16:36:32,423 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:36:32,424 - __main__ - DEBUG - Number of rows: 2
2025-06-03 16:36:32,428 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:32,431 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:36:32,431 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:36:32,433 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:36:32,434 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:32] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-03 16:36:34,417 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:36:34,417 - __main__ - DEBUG - Parameters: filter=this-week, start_date=None, end_date=None
2025-06-03 16:36:34,420 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-03 16:36:34
2025-06-03 16:36:34,423 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 16:36:34,423 - __main__ - DEBUG - Number of rows: 2
2025-06-03 16:36:34,424 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:34,424 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 16:36:34,425 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:36:34,429 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:36:34,431 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:34] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-03 16:36:36,805 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:36:36,806 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-03 16:36:36,806 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-03 16:36:36
2025-06-03 16:36:36,808 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00')), ('Clara Lee', Decimal('20000.00'))]
2025-06-03 16:36:36,809 - __main__ - DEBUG - Number of rows: 3
2025-06-03 16:36:36,809 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:36,811 - __main__ - DEBUG - DataFrame shape: (3, 2)
2025-06-03 16:36:36,811 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:36:36,815 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Clara Lee', 'sales': '$20,000.00 in sales', 'progress': Decimal('40.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:36:36,816 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:36] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-03 16:36:38,599 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:36:38,601 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:36:38,602 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:36:38
2025-06-03 16:36:38,603 - __main__ - DEBUG - Query results: []
2025-06-03 16:36:38,604 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:36:38,604 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:36:38,604 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:36:38,605 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:36:38,606 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:36:38,606 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:36:38,611 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:36:38,614 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:38] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:36:49,312 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:36:49,314 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:36:49,320 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:49,321 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:49,321 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:36:49,342 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:49,344 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:36:49,345 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:49,346 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:36:49,362 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:36:49,377 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:49,379 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:36:49,380 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,382 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:36:49,383 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:49,384 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:36:49,387 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:36:49,398 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:49,399 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:36:49,400 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,417 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:36:49,418 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:36:49,430 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:36:49,433 - __main__ - DEBUG - Number of rows: 17
2025-06-03 16:36:49,446 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:36:49,446 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:49,447 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,447 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:36:49,448 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:36:49,448 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:36:49,451 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:36:49,451 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,451 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 16:36:49,452 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:36:49,454 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,462 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:36:49,470 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,473 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:36:49,478 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:36:49,496 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:36:49,505 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:36:49,508 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:36:49,509 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,514 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,518 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:36:49,529 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 16:36:49,532 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,533 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,533 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,550 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:36:49,556 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-02-01
2025-06-03 16:36:49,564 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:36:49,566 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:36:49,569 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:36:49,584 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,586 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:36:49,588 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:36:49,589 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,606 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:36:49,608 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:36:49,622 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:36:49,639 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:36:49,646 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,646 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,649 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-02-01 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,657 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:36:49,667 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:36:49,684 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,684 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:36:49,708 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:36:49,715 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:36:49,716 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:36:49,718 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,718 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:36:49,721 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:36:49,730 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:49] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 16:36:55,816 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:36:55,817 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:36:55] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:41:49,194 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:41:50,013 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:41:52,988 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:41:52,994 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:41:55,686 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:41:55,947 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:41:58,695 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:41:58,704 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:42:04,877 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:04] "GET / HTTP/1.1" 200 -
2025-06-03 16:42:04,987 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:04] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:42:06,154 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:42:06,156 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:42:06,162 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:42:06,163 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:42:06,263 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:42:06,263 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:42:06,272 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:42:06,273 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:42:06,275 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:42:06,275 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:42:06,290 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:42:06,291 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:42:06,291 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:42:06,291 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:42:06,294 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:42:06,294 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:42:06,296 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:42:06,296 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:42:06,296 - __main__ - DEBUG - Number of rows: 17
2025-06-03 16:42:06,297 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:42:06,297 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:42:06,306 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:42:06,309 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:42:06,312 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 16:42:06,314 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:42:06,314 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:42:06,326 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:42:06,334 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:42:06,336 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:42:06,339 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,339 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:42:06,340 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:42:06,341 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:42:06,342 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:42:06,343 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:42:06,343 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:42:06,348 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:42:06,356 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:42:06,359 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:42:06,361 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:42:06,363 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:42:06,364 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,372 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:42:06,373 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:42:06,374 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,378 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:42:06,379 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 16:42:06,391 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,412 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:42:06,421 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:42:06,476 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,510 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:42:06,571 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,592 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,625 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:42:06
2025-06-03 16:42:06,660 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,681 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:42:06,697 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:42:06,709 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:42:06,711 - __main__ - DEBUG - Query results: []
2025-06-03 16:42:06,720 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,723 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:42:06,724 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:42:06,726 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,726 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:42:06,775 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:42:06,775 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:42:06,778 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,783 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:42:06,792 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:42:06,809 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:42:06,822 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:42:06,842 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:42:06,842 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:42:06,878 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:42:06,880 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:42:06,881 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:42:06,924 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:42:06,929 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:06] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:42:07,026 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:07] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:42:11,075 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:42:11,076 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:42:11] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:42:33,441 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:42:34,114 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:42:36,867 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:42:36,873 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:48:59,723 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:48:59] "[33mGET /api/total-sales HTTP/1.1[0m" 404 -
2025-06-03 16:49:34,531 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:49:34,532 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-03 16:49:34,606 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-03 16:49:34
2025-06-03 16:49:34,615 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00')), ('Clara Lee', Decimal('20000.00'))]
2025-06-03 16:49:34,616 - __main__ - DEBUG - Number of rows: 3
2025-06-03 16:49:34,616 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:49:34,617 - __main__ - DEBUG - DataFrame shape: (3, 2)
2025-06-03 16:49:34,617 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:49:34,620 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Clara Lee', 'sales': '$20,000.00 in sales', 'progress': Decimal('40.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:49:34,621 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 16:49:34] "GET /api/top-performers HTTP/1.1" 200 -
2025-06-03 16:51:03,057 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 16:51:03,353 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:51:06,556 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:51:06,562 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:51:17,067 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-03 16:51:17,067 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-03 16:51:17,070 - werkzeug - INFO -  * Restarting with stat
2025-06-03 16:51:19,804 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 16:51:19,811 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 16:51:24,124 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "GET / HTTP/1.1" 200 -
2025-06-03 16:51:24,222 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 16:51:24,922 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 16:51:24,950 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 16:51:24,951 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:51:24,974 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:51:24,975 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:51:24,978 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:51:24,986 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 16:51:24,986 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 16:51:24,987 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:51:24,989 - __main__ - DEBUG - Executing forecast query
2025-06-03 16:51:24,990 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:51:24,990 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 16:51:24,991 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:24] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:51:25,001 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 16:51:25,003 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 16:51:25,010 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 16:51:25,015 - __main__ - DEBUG - Number of rows: 26
2025-06-03 16:51:25,016 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:51:25,023 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 16:51:25,024 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 16:51:25,026 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:51:25,034 - __main__ - DEBUG - Number of rows: 18
2025-06-03 16:51:25,040 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:51:25,040 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:51:25,043 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 16:51:25,050 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:51:25,051 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 16:51:25,056 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 16:51:25,057 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:51:25,066 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 16:51:25,069 - __main__ - DEBUG - Number of rows: 17
2025-06-03 16:51:25,073 - __main__ - ERROR - Error in sales_trend: generate_forecast() got an unexpected keyword argument 'forecast_start'
2025-06-03 16:51:25,075 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:51:25,076 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:51:25,080 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 462, in sales_trend
    forecast_data = generate_forecast(
TypeError: generate_forecast() got an unexpected keyword argument 'forecast_start'

2025-06-03 16:51:25,084 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:51:25,092 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 16:51:25,103 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,104 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 16:51:25,105 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,109 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:51:25,166 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:51:25,170 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:51:25,171 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:51:25,176 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:51:25,182 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 16:51:25,186 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,188 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,280 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,280 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 16:51:25,289 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 16:51:25,295 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 16:51:25
2025-06-03 16:51:25,304 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 16:51:25,304 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,309 - __main__ - DEBUG - Query results: []
2025-06-03 16:51:25,310 - __main__ - DEBUG - Number of rows: 0
2025-06-03 16:51:25,316 - __main__ - DEBUG - Number of columns: 0
2025-06-03 16:51:25,323 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 16:51:25,349 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 16:51:25,351 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 16:51:25,352 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 16:51:25,358 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 16:51:25,359 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 16:51:25,387 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,390 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:51:25,432 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,440 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 16:51:25,448 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 16:51:25,454 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 16:51:25,477 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,481 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,492 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 16:51:25,492 - __main__ - DEBUG - Number of rows: 19
2025-06-03 16:51:25,498 - __main__ - DEBUG - Number of columns: 2
2025-06-03 16:51:25,520 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,523 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 16:51:25,525 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 16:51:25,525 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,538 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 16:51:25,582 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:25] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 16:51:31,907 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 16:51:31,908 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 16:51:31] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:03:53,396 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 17:03:53,909 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:03:58,267 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:03:58,277 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:05:59,577 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\forecast.py', reloading
2025-06-03 17:05:59,913 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:06:04,152 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:06:04,173 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:06:05,304 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:05] "GET / HTTP/1.1" 200 -
2025-06-03 17:06:05,442 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:05] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:06:06,035 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:06:06,038 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:06:06,042 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:06:06,044 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:06:06,157 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:06:06,159 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:06:06,169 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:06:06,169 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:06:06,171 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:06:06,174 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:06:06,176 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:06:06,214 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 17:06:06,214 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:06:06,219 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 17:06:06,223 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:06:06,226 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:06:06,228 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:06:06,231 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:06:06,237 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:06,237 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:06:06,247 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:06:06,252 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:06,259 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:06:06,260 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:06:06,261 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:06:06,262 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 17:06:06,263 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:06:06,263 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:06:06,265 - __main__ - DEBUG - Number of rows: 18
2025-06-03 17:06:06,275 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:06:06,279 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:06,297 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 17:06:06,298 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:06:06,312 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:06:06,313 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:06:06,326 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:06:06,329 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:06:06,336 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,346 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:06:06,378 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:06:06,397 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:06,452 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:06:06,458 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,463 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:06:06,466 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,468 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,592 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,608 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:06:06,633 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:06:06,646 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:06:06,729 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:06:06,735 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-03 17:06:06,803 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,806 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:06:06
2025-06-03 17:06:06,857 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:06:06,860 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:06:06,881 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,893 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:06] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:06,911 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:06:07,043 - __main__ - DEBUG - Query results: []
2025-06-03 17:06:07,044 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:06:07,046 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:06:07,047 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:06:07,050 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:07,058 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:06:07,059 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:06:07,112 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:07,213 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:06:07,227 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:06:07,228 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-03 17:06:07,271 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:06:07,303 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:06:07,326 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:06:07,340 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:06:07,343 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\za4rzjt2.json
2025-06-03 17:06:07,377 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\og4clb6b.json
2025-06-03 17:06:07,393 - cmdstanpy - DEBUG - idx 0
2025-06-03 17:06:07,397 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:07,397 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-03 17:06:07,397 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:07,403 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:06:07,411 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=51402', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\za4rzjt2.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\og4clb6b.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\prophet_modeln7uh5uts\\prophet_model-20250603170607.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-03 17:06:07,429 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:06:07,477 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:07] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:06:07,462 - cmdstanpy - INFO - Chain [1] start processing
2025-06-03 17:06:17,418 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:06:17,423 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:17] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:06:23,207 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:06:23,209 - __main__ - DEBUG - Parameters: filter=yesterday, start_date=None, end_date=None
2025-06-03 17:06:23,210 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-02 23:59:59
2025-06-03 17:06:23,228 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 17:06:23,228 - __main__ - DEBUG - Number of rows: 2
2025-06-03 17:06:23,229 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:23,230 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 17:06:23,231 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:06:23,236 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:06:23,238 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:23] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-03 17:06:28,889 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:06:28,892 - __main__ - DEBUG - Parameters: filter=this-week, start_date=None, end_date=None
2025-06-03 17:06:28,894 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-03 17:06:28
2025-06-03 17:06:28,911 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00'))]
2025-06-03 17:06:28,912 - __main__ - DEBUG - Number of rows: 2
2025-06-03 17:06:28,915 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:28,915 - __main__ - DEBUG - DataFrame shape: (2, 2)
2025-06-03 17:06:28,917 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:06:28,919 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:06:28,920 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:28] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-03 17:06:35,474 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:06:35,475 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-03 17:06:35,483 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-03 17:06:35
2025-06-03 17:06:35,594 - __main__ - DEBUG - Query results: [('Alice Johnson', Decimal('50000.00')), ('Bob Carter', Decimal('30000.00')), ('Clara Lee', Decimal('20000.00'))]
2025-06-03 17:06:35,598 - __main__ - DEBUG - Number of rows: 3
2025-06-03 17:06:35,599 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:06:35,600 - __main__ - DEBUG - DataFrame shape: (3, 2)
2025-06-03 17:06:35,601 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:06:35,605 - __main__ - DEBUG - Returning performers: [{'name': 'Alice Johnson', 'sales': '$50,000.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Bob Carter', 'sales': '$30,000.00 in sales', 'progress': Decimal('60.0'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Clara Lee', 'sales': '$20,000.00 in sales', 'progress': Decimal('40.0'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:06:35,606 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:35] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-03 17:06:39,048 - cmdstanpy - INFO - Chain [1] done processing
2025-06-03 17:06:39,334 - __main__ - ERROR - Error in sales_trend: 'tuple' object has no attribute 'head'
2025-06-03 17:06:39,336 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 467, in sales_trend
    logger.debug(f"Forecast data: {forecast_data.head().to_string()}")
AttributeError: 'tuple' object has no attribute 'head'

2025-06-03 17:06:39,339 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:39] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:06:39,824 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:06:39,825 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:06:39,826 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:06:39
2025-06-03 17:06:39,828 - __main__ - DEBUG - Query results: []
2025-06-03 17:06:39,830 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:06:39,831 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:06:39,832 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:06:39,835 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:06:39,837 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:06:39,839 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:06:39,844 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:06:39,846 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:06:39] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:07:15,089 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET / HTTP/1.1" 200 -
2025-06-03 17:07:15,147 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:07:15,817 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:07:15,819 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:07:15,821 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:15,824 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:15,825 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:07:15,835 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:07:15,836 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:07:15,837 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:15,838 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:15,838 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:15,842 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:07:15,860 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 17:07:15,864 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 17:07:15,877 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:07:15,877 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:15,879 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:07:15,879 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:07:15,881 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:07:15,881 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:15,882 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:07:15,890 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:15,891 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:07:15,894 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:07:15,896 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:15,896 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:15,898 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:07:15,898 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 17:07:15,900 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:07:15,905 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:07:15,906 - __main__ - DEBUG - Number of rows: 18
2025-06-03 17:07:15,919 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:15,922 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 17:07:15,925 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:15,925 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:07:15,928 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:07:15,934 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:07:15,948 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:07:15,955 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-03 17:07:15,981 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:07:15,988 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:15] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:07:15,989 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:07:16,004 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,011 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:16,037 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:07:16,048 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:07:16,078 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,168 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,230 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:07:16,231 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:07:16,233 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,233 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,234 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:07:16
2025-06-03 17:07:16,280 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:07:16,379 - __main__ - DEBUG - Query results: []
2025-06-03 17:07:16,386 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:07:16,387 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:07:16,401 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:07:16,402 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:07:16,439 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:07:16,440 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-03 17:07:16,463 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,480 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:07:16,480 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,552 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\t6yvf14s.json
2025-06-03 17:07:16,555 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:16,567 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:07:16,581 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\89oikrjl.json
2025-06-03 17:07:16,597 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:07:16,619 - cmdstanpy - DEBUG - idx 0
2025-06-03 17:07:16,631 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-03 17:07:16,631 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:07:16,631 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:07:16,634 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=30023', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\t6yvf14s.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\89oikrjl.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\prophet_modelovivxgxg\\prophet_model-20250603170716.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-03 17:07:16,635 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:07:16,651 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,651 - cmdstanpy - INFO - Chain [1] start processing
2025-06-03 17:07:16,749 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:07:16,750 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:07:16,750 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:16,753 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,760 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,762 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:07:16,764 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:07:16,771 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:16,779 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:16] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:07:20,900 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:07:20,901 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:20] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:31,934 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:31] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-03 17:07:33,002 - cmdstanpy - INFO - Chain [1] done processing
2025-06-03 17:07:33,148 - __main__ - ERROR - Error in sales_trend: 'tuple' object has no attribute 'head'
2025-06-03 17:07:33,149 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 467, in sales_trend
    logger.debug(f"Forecast data: {forecast_data.head().to_string()}")
AttributeError: 'tuple' object has no attribute 'head'

2025-06-03 17:07:33,151 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:33] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:07:34,225 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:34] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-03 17:07:36,990 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:36] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-03 17:07:58,659 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:07:58,661 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:07:58,662 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:58,663 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:58,664 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:07:58,686 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 17:07:58,696 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 17:07:58,710 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:58,728 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:07:58,729 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:58,729 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:07:58,743 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:58,752 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 17:07:58,756 - __main__ - DEBUG - Number of rows: 18
2025-06-03 17:07:58,757 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:58,758 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:58,760 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 17:07:58,764 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:07:58,773 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:07:58,783 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:07:58,785 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-03 17:07:58,786 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:07:58,796 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:58,798 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:07:58,798 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:58,800 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:07:58,802 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:07:58,810 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:07:58,811 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:07:58,819 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:58,857 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:07:58,924 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:07:58,944 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:07:58,926 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:07:58,975 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:58,977 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:07:58,979 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:58] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:07:59,006 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:07:59,167 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,192 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,273 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:07:59,277 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:07:59,277 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:59,300 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,321 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 17:07:59,324 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:07:59,332 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-03 17:07:59,339 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-02-01
2025-06-03 17:07:59,344 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:07:59,397 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\rwazyack.json
2025-06-03 17:07:59,398 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:07:59,411 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\zh0tixm5.json
2025-06-03 17:07:59,416 - cmdstanpy - DEBUG - idx 0
2025-06-03 17:07:59,426 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-03 17:07:59,428 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,430 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=49340', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\rwazyack.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\zh0tixm5.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\prophet_modela9hzml89\\prophet_model-20250603170759.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-03 17:07:59,440 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 17:07:59,432 - cmdstanpy - INFO - Chain [1] start processing
2025-06-03 17:07:59,461 - __main__ - DEBUG - Number of rows: 18
2025-06-03 17:07:59,478 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:59,495 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 17:07:59,496 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:07:59,498 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:07:59,513 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-03 17:07:59,564 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:07:59,599 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,636 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,749 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,781 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,782 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:07:59,783 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:07:59,784 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,796 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:07:59,832 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:07:59,837 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-03 17:07:59,844 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:07:59,865 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:07:59,886 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\6d07xepl.json
2025-06-03 17:07:59,896 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpwnzplax_\auj_a3l1.json
2025-06-03 17:07:59,899 - cmdstanpy - DEBUG - idx 0
2025-06-03 17:07:59,904 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-03 17:07:59,905 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:07:59,908 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:07:59,909 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=42029', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\6d07xepl.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\auj_a3l1.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpwnzplax_\\prophet_model3h8xw9ot\\prophet_model-20250603170759.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-03 17:07:59,915 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:07:59] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:07:59,917 - cmdstanpy - INFO - Chain [1] start processing
2025-06-03 17:08:00,304 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:08:00,305 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:08:00] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:08:16,710 - cmdstanpy - INFO - Chain [1] done processing
2025-06-03 17:08:16,841 - __main__ - ERROR - Error in sales_trend: 'tuple' object has no attribute 'head'
2025-06-03 17:08:16,842 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 467, in sales_trend
    logger.debug(f"Forecast data: {forecast_data.head().to_string()}")
AttributeError: 'tuple' object has no attribute 'head'

2025-06-03 17:08:16,844 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:08:16] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:08:17,347 - cmdstanpy - INFO - Chain [1] done processing
2025-06-03 17:08:17,462 - __main__ - ERROR - Error in sales_trend: 'tuple' object has no attribute 'head'
2025-06-03 17:08:17,463 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 467, in sales_trend
    logger.debug(f"Forecast data: {forecast_data.head().to_string()}")
AttributeError: 'tuple' object has no attribute 'head'

2025-06-03 17:08:17,464 - werkzeug - INFO - 127.0.0.1 - - [03/Jun/2025 17:08:17] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-02-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:21,697 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-03 17:10:21,698 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-03 17:10:21,702 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:10:25,390 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:10:25,401 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:10:32,203 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:32] "GET / HTTP/1.1" 200 -
2025-06-03 17:10:32,326 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:32] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:10:33,581 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:10:33,628 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:10:33,635 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:10:33,637 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:10:33,639 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:10:33,640 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:10:33,644 - __main__ - DEBUG - Starting /api/sales-trend
2025-06-03 17:10:33,644 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-03, end_date=2025-06-03, forecast_start=2026-01-01
2025-06-03 17:10:33,651 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:10:33,651 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:10:33,658 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:10:33,659 - __main__ - DEBUG - Executing query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS month,
                SUM(total_amount) AS total_sales
            FROM sales_orders
             WHERE order_date IS NOT NULL AND total_amount IS NOT NULL AND order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY month with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:10:33,660 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:10:33,662 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:10:33,669 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:10:33,672 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:10:33,675 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:10:33,676 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:10:33,679 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:10:33,684 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:10:33,685 - __main__ - DEBUG - Query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('100000.00'))]
2025-06-03 17:10:33,689 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:10:33,691 - __main__ - DEBUG - Number of rows: 18
2025-06-03 17:10:33,696 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:10:33,696 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:10:33,702 - __main__ - DEBUG - DataFrame shape: (18, 2)
2025-06-03 17:10:33,704 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:10:33,704 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:10:33,706 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:10:33,709 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:10:33,712 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:10:33,713 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:10:33,723 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:10:33,724 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:10:33,735 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:10:33,757 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:10:33,763 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:10:33,766 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:10:33,807 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:10:33,862 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:10:33,906 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:10:33,910 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:10:33,913 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:10:33,925 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:10:33,975 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:10:33,976 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:10:33,993 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:33] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,028 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:10:34,034 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:10:34,040 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:10:34,060 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:10:34
2025-06-03 17:10:34,064 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-03 17:10:34,068 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,087 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:10:34,090 - __main__ - DEBUG - Query results: []
2025-06-03 17:10:34,092 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:10:34,100 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:10:34,102 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:10:34,120 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:10:34,122 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:10:34,123 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:10:34,129 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:10:34,145 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:10:34,146 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:10:34,162 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,209 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:10:34,223 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,226 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:10:34,230 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:10:34,261 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,277 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:10:34,279 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:10:34,289 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:10:34,297 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,361 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:10:34,379 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:10:34,394 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,457 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:34] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:10:34,549 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-03 17:10:34,644 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmprd0zvs_j\va6h5sop.json
2025-06-03 17:10:34,661 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmprd0zvs_j\gn1k6tae.json
2025-06-03 17:10:34,679 - cmdstanpy - DEBUG - idx 0
2025-06-03 17:10:34,691 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-03 17:10:34,694 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=62230', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmprd0zvs_j\\va6h5sop.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmprd0zvs_j\\gn1k6tae.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmprd0zvs_j\\prophet_modelee08_jk0\\prophet_model-20250603171034.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-03 17:10:34,711 - cmdstanpy - INFO - Chain [1] start processing
2025-06-03 17:10:44,478 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:10:44,482 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:44] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:10:59,156 - cmdstanpy - INFO - Chain [1] done processing
2025-06-03 17:10:59,224 - __main__ - ERROR - Error in sales_trend: 'tuple' object has no attribute 'head'
2025-06-03 17:10:59,225 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 467, in sales_trend
    logger.debug(f"Forecast data: {forecast_data.head().to_string()}")
AttributeError: 'tuple' object has no attribute 'head'

2025-06-03 17:10:59,229 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:10:59] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:14:27,022 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 17:14:27,922 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:14:31,995 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:14:32,004 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:15:18,984 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\forecast.py', reloading
2025-06-03 17:15:19,347 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:15:23,424 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:15:23,439 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:16:00,453 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:00] "GET / HTTP/1.1" 200 -
2025-06-03 17:16:00,675 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:00] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:16:01,635 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:16:01,636 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:16:01,653 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:16:01,658 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:16:01,841 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:16:01,846 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:16:01,868 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:16:01,869 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:16:01,871 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:16:01,881 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:16:01,883 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:16:01,905 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 413, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:16:01,912 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:16:01,917 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:16:01,919 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:16:01,924 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:01,927 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:16:01,932 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:16:01,933 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:16:01,934 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:16:01,935 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:16:01,960 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:16:01,980 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:16:01,982 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:16:01,985 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:16:01,987 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:16:01,989 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:16:01,991 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:01] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:16:02,007 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,018 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:16:02,019 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:16:02,071 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:16:02,075 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,082 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:16:02,085 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:16:02,094 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,094 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:16:02,117 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:16:02,121 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,165 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:16:02,166 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,167 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,168 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:16:02,169 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:16:02,184 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:16:02
2025-06-03 17:16:02,221 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:16:02,232 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:16:02,237 - __main__ - DEBUG - Query results: []
2025-06-03 17:16:02,239 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:16:02,254 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,264 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:16:02,269 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:16:02,271 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:16:02,281 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:16:02,299 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:16:02,303 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:16:02,311 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:16:02,327 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:16:02,335 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:16:02,338 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,351 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,373 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,402 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:16:02,422 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:16:02,437 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:16:02,446 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:16:02,499 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:16:02,502 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:16:02,506 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:16:02,523 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:02] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:16:09,401 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:16:09,402 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:16:09] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:19:10,159 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 17:19:11,606 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:19:18,392 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:19:18,403 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:19:18,779 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:18] "GET / HTTP/1.1" 200 -
2025-06-03 17:19:18,910 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:18] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:19:20,774 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:19:20,775 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:19:20,789 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:19:20,790 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:19:20,905 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:19:20,908 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:19:20,922 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:19:20,923 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:19:20,923 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:19:20,925 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:19:20,934 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:19:20,936 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:19:20,941 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:19:20,940 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:19:20,936 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:19:20,941 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:19:20,943 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:19:20,946 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:19:20,949 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:19:20,948 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:20,961 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:19:20,979 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:19:20,981 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:19:20,991 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:19:20,993 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:20] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:19:21,024 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:19:21,026 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:19:21,029 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:19:21,045 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:19:21,063 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,063 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:19:21,072 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,094 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,103 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,108 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:19:21,125 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:19:21,125 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:19:21,143 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:19:21,144 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:19:21,144 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,148 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:19:21,148 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,160 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:19:21,226 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:19:21
2025-06-03 17:19:21,236 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:19:21,438 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:19:21,455 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:19:21,542 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:19:21,544 - __main__ - DEBUG - Query results: []
2025-06-03 17:19:21,545 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:19:21,545 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:19:21,545 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:19:21,558 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:19:21,558 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:19:21,561 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:19:21,562 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:19:21,574 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:19:21,574 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:19:21,579 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:19:21,606 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:19:21,626 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,645 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,646 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:19:21,689 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:19:21,694 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:19:21,705 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,792 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:19:21,808 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,808 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:21,889 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:21] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:19:26,805 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:19:26,806 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:19:26] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:20:26,379 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\forecast.py', reloading
2025-06-03 17:20:27,110 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:20:31,199 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:20:31,207 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:20:34,278 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\forecast.py', reloading
2025-06-03 17:20:34,767 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:20:39,775 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:20:39,783 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:20:40,065 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET / HTTP/1.1" 200 -
2025-06-03 17:20:40,171 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:20:40,609 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:20:40,609 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:20:40,616 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:20:40,616 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:20:40,717 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:20:40,722 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:20:40,727 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:20:40,728 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:20:40,728 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:20:40,729 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:20:40,730 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:20:40,731 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:20:40,733 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:20:40,734 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:20:40,734 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:20:40,735 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:20:40,741 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:20:40,743 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:20:40,743 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:20:40,744 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:20:40,745 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:20:40,747 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:20:40,750 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:20:40,755 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:20:40,762 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:20:40,765 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,778 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:20:40,780 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:20:40,781 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:20:40,784 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:20:40,799 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,801 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,802 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,814 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:20:40,815 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:20:40,817 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:20:40,822 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:20:40,825 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,826 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:20:40,827 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,830 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:20:40,836 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:20:40,845 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:20:40,849 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:20:40
2025-06-03 17:20:40,851 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,859 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:20:40,865 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:20:40,870 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,876 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:20:40,878 - __main__ - DEBUG - Query results: []
2025-06-03 17:20:40,883 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,886 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:20:40,886 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:20:40,898 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,898 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:20:40,910 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:20:40,913 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:20:40,915 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:20:40,917 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:20:40,922 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:20:40,924 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:20:40,927 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,932 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:20:40,933 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:20:40,934 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:20:40,935 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,964 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:20:40,965 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:20:40,965 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:20:40,967 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:40] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:20:46,097 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:20:46,099 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:20:46] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:21:00,143 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:21:00,147 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:21:00,150 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:21:00,153 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:21:00,154 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:21:00,159 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,164 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:21:00,165 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:21:00,165 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:21:00,170 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:21:00,186 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:21:00,189 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:21:00,203 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:21:00,210 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:21:00,212 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:21:00,212 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:21:00,213 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:21:00,214 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:21:00,215 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:21:00,217 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:21:00,217 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:21:00,219 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:21:00,222 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:21:00,225 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:21:00,226 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,229 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,233 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:21:00,243 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:21:00,246 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:21:00,257 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:21:00,265 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:21:00,270 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:21:00,272 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,276 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:21:00,286 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:21:00,294 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:21:00,310 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,311 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,321 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,312 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:21:00,344 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-02-01 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,382 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:21:00,430 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:21:00,434 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,439 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:21:00,440 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,451 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,475 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:21:00,477 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,509 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:21:00,510 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:21:00,512 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:21:00,512 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:21:00,523 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:21:00,525 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:21:00,530 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:00] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:21:05,696 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:21:05,697 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:21:05] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:24:57,896 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:57] "GET / HTTP/1.1" 200 -
2025-06-03 17:24:57,957 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:57] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:24:59,069 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:24:59,075 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,081 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,086 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:24:59,094 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:24:59,101 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:24:59,111 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,117 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:24:59,121 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,133 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,147 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:24:59,148 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:24:59,148 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:24:59,148 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:24:59,152 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:24:59,153 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:24:59] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:25:39,148 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "GET / HTTP/1.1" 200 -
2025-06-03 17:25:39,211 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:25:39,707 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:25:39,709 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:25:39,709 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:25:39,712 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:25:39,714 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:25:39,732 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:25:39,737 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:25:39,738 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:25:39,743 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:25:39,745 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:25:39,786 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:25:39,799 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:25:39,812 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:25:39,839 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:25:39,946 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:25:39,951 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:25:39] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:26:55,166 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-03 17:26:55,686 - werkzeug - INFO -  * Restarting with stat
2025-06-03 17:27:01,096 - werkzeug - WARNING -  * Debugger is active!
2025-06-03 17:27:01,105 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-03 17:27:25,097 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:25] "GET / HTTP/1.1" 200 -
2025-06-03 17:27:25,315 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:25] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:27:26,363 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:27:26,364 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:27:26,515 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:27:26,523 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:27:26,528 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:27:26,536 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:27:26,560 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:27:26,532 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:27:26,532 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:27:26,578 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:27:26,583 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:27:26,597 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:27:26,620 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:27:26,645 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:27:26,658 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:27:26,691 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:27:26] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:33,184 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:33] "GET / HTTP/1.1" 200 -
2025-06-03 17:29:33,240 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:33] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:29:34,511 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:29:34,515 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:34,516 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:34,516 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:34,523 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:34,525 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:34,540 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:29:34,542 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:29:34,547 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:34,548 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:29:34,551 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-03 17:29:34,582 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:29:34,583 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:34,597 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:29:34,600 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:29:34,600 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:34,602 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:29:34,603 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,610 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:29:34,612 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:34,614 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:29:34,615 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:29:34,615 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:29:34,616 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:34,626 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:29:34,627 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:34,634 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:34,653 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:29:34,655 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:29:34,663 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:29:34,664 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,693 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,693 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,701 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:29:34,710 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:29:34,714 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:34,727 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:29:34,728 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:29:34,746 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-03 17:29:34,750 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,783 - __main__ - DEBUG - Starting /api/top-performers
2025-06-03 17:29:34,801 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,806 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-03 17:29:34,817 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,826 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 17:29:34
2025-06-03 17:29:34,850 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:29:34,882 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:34,884 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:29:34,893 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,896 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,900 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,932 - __main__ - DEBUG - Query results: []
2025-06-03 17:29:34,933 - __main__ - DEBUG - Number of rows: 0
2025-06-03 17:29:34,934 - __main__ - DEBUG - Number of columns: 0
2025-06-03 17:29:34,937 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-03 17:29:34,942 - __main__ - DEBUG - Fallback query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:29:34,943 - __main__ - DEBUG - DataFrame shape: (17, 2)
2025-06-03 17:29:34,944 - __main__ - DEBUG - DataFrame columns: ['salesperson_name', 'total_sales']
2025-06-03 17:29:34,947 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:29:34,950 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,975 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:34,976 - __main__ - DEBUG - Returning performers: [{'name': 'Quinn Johnson', 'sales': '$21,212,100.00 in sales', 'progress': Decimal('100'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Peter Martinez', 'sales': '$20,202,000.00 in sales', 'progress': Decimal('95.23809523809523809523809524'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Olivia Robinson', 'sales': '$19,191,900.00 in sales', 'progress': Decimal('90.47619047619047619047619048'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Noah Walker', 'sales': '$18,181,800.00 in sales', 'progress': Decimal('85.71428571428571428571428571'), 'image': 'https://via.placeholder.com/48'}, {'name': 'Mia Thompson', 'sales': '$17,171,700.00 in sales', 'progress': Decimal('80.95238095238095238095238095'), 'image': 'https://via.placeholder.com/48'}]
2025-06-03 17:29:34,980 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-03 17:29:34,982 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:29:34,989 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:29:34,991 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:34,999 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:34] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:35,019 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:35] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:29:35,020 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:29:35,035 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:35] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:29:45,714 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:29:45,723 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:45,745 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:45,745 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:45,772 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:45,777 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:45,787 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:45,804 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:29:45,832 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:45,858 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:29:45,891 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:45,910 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:45,911 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:29:45,951 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:45,959 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:29:45,980 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:29:45,981 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:29:45,981 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:45] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:29:45,995 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:29:46,012 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,031 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:46,032 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,039 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:29:46,072 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:29:46,079 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:46,158 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:29:46,163 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:46,165 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:29:46,197 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,198 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,199 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:29:46,233 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,308 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:29:46,309 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,310 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:46,314 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:46,317 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,322 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:46] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-03 17:29:46,324 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:29:46,324 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:29:46,349 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:29:46,349 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:29:46,358 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:46,363 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:29:46,364 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:29:46,371 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:29:52,328 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:29:52,329 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:52] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:55,226 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-03 17:29:55,227 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:55,231 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:55,245 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:55,247 - __main__ - DEBUG - Parameters: start_date=2023-06-03, end_date=2025-06-03
2025-06-03 17:29:55,248 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-03', '2025-06-03']
2025-06-03 17:29:55,260 - __main__ - DEBUG - Main query results: total_sales=243356119.6, avg_order_value=3288596.21081, num_orders=74
2025-06-03 17:29:55,261 - __main__ - DEBUG - Executing forecast query
2025-06-03 17:29:55,268 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:29:55,275 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-funnel?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:55,277 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-01-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,279 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-orders-unique-customers?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:55,309 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/recent-activity?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:55,313 - __main__ - DEBUG - Forecast query results: [(datetime.datetime(2024, 1, 1, 0, 0), Decimal('5051799.98')), (datetime.datetime(2024, 2, 1, 0, 0), Decimal('6061599.99')), (datetime.datetime(2024, 3, 1, 0, 0), Decimal('7070799.95')), (datetime.datetime(2024, 4, 1, 0, 0), Decimal('8081299.99')), (datetime.datetime(2024, 5, 1, 0, 0), Decimal('9091049.97')), (datetime.datetime(2024, 6, 1, 0, 0), Decimal('10101079.98')), (datetime.datetime(2024, 7, 1, 0, 0), Decimal('11111399.99')), (datetime.datetime(2024, 8, 1, 0, 0), Decimal('12121999.96')), (datetime.datetime(2024, 9, 1, 0, 0), Decimal('13131419.98')), (datetime.datetime(2024, 10, 1, 0, 0), Decimal('14154269.97')), (datetime.datetime(2024, 11, 1, 0, 0), Decimal('15151500.00')), (datetime.datetime(2024, 12, 1, 0, 0), Decimal('16161600.00')), (datetime.datetime(2025, 1, 1, 0, 0), Decimal('17171999.99')), (datetime.datetime(2025, 2, 1, 0, 0), Decimal('18183799.98')), (datetime.datetime(2025, 3, 1, 0, 0), Decimal('19194099.90')), (datetime.datetime(2025, 4, 1, 0, 0), Decimal('20203499.99')), (datetime.datetime(2025, 5, 1, 0, 0), Decimal('41212899.98')), (datetime.datetime(2025, 6, 1, 0, 0), Decimal('22322349.99')), (datetime.datetime(2025, 7, 1, 0, 0), Decimal('23234699.96')), (datetime.datetime(2025, 8, 1, 0, 0), Decimal('1799.97')), (datetime.datetime(2025, 9, 1, 0, 0), Decimal('399.98')), (datetime.datetime(2025, 10, 1, 0, 0), Decimal('49.99')), (datetime.datetime(2025, 11, 1, 0, 0), Decimal('139.98')), (datetime.datetime(2025, 12, 1, 0, 0), Decimal('89.97')), (datetime.datetime(2026, 1, 1, 0, 0), Decimal('249.99')), (datetime.datetime(2026, 2, 1, 0, 0), Decimal('1249.95'))]
2025-06-03 17:29:55,314 - __main__ - DEBUG - Number of rows: 26
2025-06-03 17:29:55,317 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:55,317 - __main__ - DEBUG - Query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-03 17:29:55,321 - __main__ - DEBUG - DataFrame shape: (26, 2)
2025-06-03 17:29:55,322 - __main__ - DEBUG - Number of rows: 17
2025-06-03 17:29:55,325 - __main__ - DEBUG - DataFrame columns: ['ds', 'y']
2025-06-03 17:29:55,326 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:55,331 - __main__ - DEBUG - DataFrame head:           ds           y
0 2024-01-01  5051799.98
1 2024-02-01  6061599.99
2 2024-03-01  7070799.95
3 2024-04-01  8081299.99
4 2024-05-01  9091049.97
2025-06-03 17:29:55,334 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:55,347 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:29:55,349 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:29:55,356 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:29:55,357 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,358 - __main__ - DEBUG - Returning response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-03 17:29:55,368 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-by-salesperson?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:29:55,402 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:29:55,406 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:29:55,411 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:55,429 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,431 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:29:55,439 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:29:55,475 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,477 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,532 - root - ERROR - Error in sales_trend: name 'db' is not defined
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 414, in sales_trend
    results = db.execute(query, [start_date, end_date]).fetchall()
NameError: name 'db' is not defined
2025-06-03 17:29:55,541 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,542 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,544 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-trend?period_type=MS&start_date=2023-06-03&end_date=2025-06-03&forecast_start=2026-02-01 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,598 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-03 17:29:55,696 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-customer HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,698 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:29:55,701 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:29:55,711 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:29:55,754 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-category?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,754 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:29:55,755 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-target-vs-achievement HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,757 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:29:55,758 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:29:55,758 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,773 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:29:55,793 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-03 17:29:55,897 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1[0m" 500 -
2025-06-03 17:29:55,897 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:55] "[35m[1mGET /api/sales-by-region HTTP/1.1[0m" 500 -
2025-06-03 17:29:56,704 - __main__ - DEBUG - Returning response: {'total_sales': 243356119.6, 'avg_order_value': 3288596.21081, 'num_orders': 74, 'forecast_accuracy': 1.0463722887103823}
2025-06-03 17:29:56,707 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:29:56] "GET /api/summary-metrics?start_date=2023-06-03&end_date=2025-06-03 HTTP/1.1" 200 -
2025-06-03 17:31:07,405 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:07] "GET / HTTP/1.1" 200 -
2025-06-03 17:31:07,467 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:07] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-03 17:31:08,578 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-03 17:31:08,579 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-03 17:31:08,610 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-03 17:31:08,621 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:31:08,622 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:31:08,623 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-03 17:31:08,624 - __main__ - DEBUG - Number of rows: 19
2025-06-03 17:31:08,626 - __main__ - DEBUG - Number of columns: 2
2025-06-03 17:31:08,630 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "GET /api/regions HTTP/1.1" 200 -
2025-06-03 17:31:08,633 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-03 17:31:08,637 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-03 17:31:08,652 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:31:08,655 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:31:08,664 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:31:08,667 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-03 17:31:08,677 - werkzeug - INFO - 192.168.1.34 - - [03/Jun/2025 17:31:08] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-04 09:06:00,445 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:06:00,449 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:06:00,453 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:06:53,952 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:06:54,133 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:06:57,967 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:06:57] "GET / HTTP/1.1" 200 -
2025-06-04 09:06:58,413 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:06:58] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:07:00,948 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:07:00,958 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:07:10,596 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:07:12,417 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:07:12,425 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:07:12,425 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:07:12,427 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:07:12,575 - __main__ - DEBUG - Number of rows: 19
2025-06-04 09:07:12,680 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:07:12,754 - __main__ - DEBUG - Number of columns: 2
2025-06-04 09:07:12,861 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:07:12,872 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:07:12,914 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-06-04 09:07:12,979 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:12] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:07:13,960 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:13] "[35m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 500 -
2025-06-04 09:07:14,844 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:14] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:07:15,345 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:07:15] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:10:19,191 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:10:19] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-04 09:14:47,595 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:14:47] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-04 09:19:56,030 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:19:57,448 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:20:02,998 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:20:03,012 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:21:38,885 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:21:39,285 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:21:43,127 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:21:43,139 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:22:39,549 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:22:40,005 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:22:44,185 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:22:44,195 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:23:07,422 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:23:07,930 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:23:11,793 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:23:11,800 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:23:43,966 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:23:44,599 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:23:48,886 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:23:48,892 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:24:16,492 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:24:16,951 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:24:21,048 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:24:21,056 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:24:56,623 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:56] "GET / HTTP/1.1" 200 -
2025-06-04 09:24:56,702 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:56] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-04 09:24:56,863 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:56] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:24:58,766 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:24:58,769 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:24:58,771 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:24:58,771 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:24:58,772 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:24:59,202 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:24:59,204 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:24:59,205 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:24:59,240 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:24:59,242 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:24:59,245 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:24:59,248 - __main__ - DEBUG - Number of rows: 19
2025-06-04 09:24:59,248 - __main__ - DEBUG - Number of columns: 2
2025-06-04 09:24:59,269 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:24:59,284 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:24:59,285 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:24:59,286 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:24:59,287 - __main__ - DEBUG - Query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 09:24:59,287 - __main__ - DEBUG - Query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 09:24:59,288 - __main__ - ERROR - Error in sales_target_vs_achievement: Shape of passed values is (39, 1), indices imply (39, 4)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 787, in sales_target_vs_achievement
    target_data = pd.DataFrame(target_results, columns=['salesperson_name', 'target_period', 'target_amount', 'salesperson_id'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (39, 1), indices imply (39, 4)
2025-06-04 09:24:59,289 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:24:59,291 - __main__ - ERROR - Error in sales_by_region: Shape of passed values is (17, 1), indices imply (17, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 585, in sales_by_region
    region_data = pd.DataFrame(results, columns=['region_label', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (17, 1), indices imply (17, 2)
2025-06-04 09:24:59,292 - __main__ - ERROR - Error in sales_by_customer: Shape of passed values is (20, 1), indices imply (20, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 670, in sales_by_customer
    customer_data = pd.DataFrame(results, columns=['customer_name', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (20, 1), indices imply (20, 2)
2025-06-04 09:24:59,293 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 09:24:59,299 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:24:59,306 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:24:59,322 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:24:59,322 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:24:59,323 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 09:24:59,372 - __main__ - DEBUG - Query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 09:24:59,374 - __main__ - ERROR - Error in sales_by_category: Shape of passed values is (2, 1), indices imply (2, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 907, in sales_by_category
    category_data = pd.DataFrame(results, columns=['category', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (2, 1), indices imply (2, 2)
2025-06-04 09:24:59,382 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:24:59,388 - __main__ - ERROR - Error in repeat_vs_new_sales: Shape of passed values is (5, 1), indices imply (5, 3)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1081, in repeat_vs_new_sales
    order_counts = pd.DataFrame(cursor.fetchall(), columns=['period', 'customer_id', 'order_count'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (5, 1), indices imply (5, 3)
2025-06-04 09:24:59,391 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:24:59] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:30:02,392 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:30:02,393 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:30:02,396 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:30:06,058 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:30:06,072 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:30:06,307 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:06] "GET / HTTP/1.1" 200 -
2025-06-04 09:30:06,401 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:06] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:30:07,447 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:30:07,449 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:30:07,451 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:30:07,452 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:30:07,456 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:30:07,599 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:30:07,601 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:30:07,601 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:30:07,614 - __main__ - ERROR - Error in sales_target_vs_achievement: Shape of passed values is (39, 1), indices imply (39, 4)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 787, in sales_target_vs_achievement
    target_data = pd.DataFrame(target_results, columns=['salesperson_name', 'target_period', 'target_amount', 'salesperson_id'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (39, 1), indices imply (39, 4)
2025-06-04 09:30:07,616 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:30:07,616 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:30:07,617 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:30:07,618 - __main__ - DEBUG - Query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 09:30:07,620 - __main__ - DEBUG - Query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 09:30:07,627 - __main__ - DEBUG - Number of rows: 19
2025-06-04 09:30:07,628 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:30:07,628 - __main__ - ERROR - Error in sales_by_region: Shape of passed values is (17, 1), indices imply (17, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 585, in sales_by_region
    region_data = pd.DataFrame(results, columns=['region_label', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (17, 1), indices imply (17, 2)
2025-06-04 09:30:07,631 - __main__ - ERROR - Error in sales_by_customer: Shape of passed values is (20, 1), indices imply (20, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 670, in sales_by_customer
    customer_data = pd.DataFrame(results, columns=['customer_name', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (20, 1), indices imply (20, 2)
2025-06-04 09:30:07,631 - __main__ - DEBUG - Number of columns: 2
2025-06-04 09:30:07,632 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:30:07,639 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:30:07,647 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:30:07,648 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:30:07,648 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:30:07,650 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:30:07,650 - __main__ - DEBUG - Returning response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:30:07,650 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 09:30:07,654 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:30:07,668 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 09:30:07,671 - __main__ - DEBUG - Query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 09:30:07,672 - __main__ - ERROR - Error in sales_by_category: Shape of passed values is (2, 1), indices imply (2, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 907, in sales_by_category
    category_data = pd.DataFrame(results, columns=['category', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (2, 1), indices imply (2, 2)
2025-06-04 09:30:07,673 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:30:07,676 - __main__ - ERROR - Error in repeat_vs_new_sales: Shape of passed values is (5, 1), indices imply (5, 3)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1081, in repeat_vs_new_sales
    order_counts = pd.DataFrame(cursor.fetchall(), columns=['period', 'customer_id', 'order_count'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (5, 1), indices imply (5, 3)
2025-06-04 09:30:07,681 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:30:07] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:31:52,905 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:31:53,245 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:39:59,084 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:39:59,084 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:39:59,089 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:40:02,598 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:40:02,608 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:40:06,368 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:06] "GET / HTTP/1.1" 200 -
2025-06-04 09:40:06,497 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:06] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:40:07,303 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:40:07,307 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:40:07,321 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:40:07,322 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:40:07,323 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:40:07,484 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:40:07,486 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:40:07,488 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:40:07,504 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:40:07,509 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:40:07,512 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:40:07,514 - __main__ - ERROR - Error in sales_target_vs_achievement: Shape of passed values is (39, 1), indices imply (39, 4)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 787, in sales_target_vs_achievement
    target_data = pd.DataFrame(target_results, columns=['salesperson_name', 'target_period', 'target_amount', 'salesperson_id'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (39, 1), indices imply (39, 4)
2025-06-04 09:40:07,514 - __main__ - DEBUG - Query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 09:40:07,514 - __main__ - DEBUG - Query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 09:40:07,522 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:40:07,523 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:40:07,524 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:40:07,534 - __main__ - ERROR - Error in sales_by_customer: Shape of passed values is (20, 1), indices imply (20, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 676, in sales_by_customer
    customer_data = pd.DataFrame(results, columns=['customer_name', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (20, 1), indices imply (20, 2)
2025-06-04 09:40:07,536 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:40:07,538 - __main__ - ERROR - Error in sales_by_region: Shape of passed values is (17, 1), indices imply (17, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 591, in sales_by_region
    region_data = pd.DataFrame(results, columns=['region_label', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (17, 1), indices imply (17, 2)
2025-06-04 09:40:07,544 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:40:07,544 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 09:40:07,545 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:40:07,549 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:40:07,552 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:40:07,565 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:40:07,591 - __main__ - DEBUG - Query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 09:40:07,594 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 09:40:07,595 - __main__ - ERROR - Error in sales_by_category: Shape of passed values is (2, 1), indices imply (2, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 907, in sales_by_category
    category_data = pd.DataFrame(results, columns=['category', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (2, 1), indices imply (2, 2)
2025-06-04 09:40:07,597 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:40:07,612 - __main__ - ERROR - Error in repeat_vs_new_sales: Shape of passed values is (5, 1), indices imply (5, 3)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1081, in repeat_vs_new_sales
    order_counts = pd.DataFrame(cursor.fetchall(), columns=['period', 'customer_id', 'order_count'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (5, 1), indices imply (5, 3)
2025-06-04 09:40:07,615 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:40:07] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:42:46,858 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:42:46,860 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:42:46,862 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:42:50,640 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:42:50,651 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:42:54,428 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:54] "GET / HTTP/1.1" 200 -
2025-06-04 09:42:54,520 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:54] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:42:55,044 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:42:55,049 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:42:55,050 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:42:55,052 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:42:55,053 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:42:55,254 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:42:55,254 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:42:55,257 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:42:55,272 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:42:55,275 - __main__ - ERROR - Error in sales_target_vs_achievement: Shape of passed values is (39, 1), indices imply (39, 4)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 787, in sales_target_vs_achievement
    target_data = pd.DataFrame(target_results, columns=['salesperson_name', 'target_period', 'target_amount', 'salesperson_id'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (39, 1), indices imply (39, 4)
2025-06-04 09:42:55,286 - __main__ - DEBUG - Query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:42:55,290 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:42:55,292 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:42:55,302 - __main__ - DEBUG - Query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 09:42:55,303 - __main__ - DEBUG - Query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 09:42:55,306 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:42:55,307 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:42:55,307 - __main__ - ERROR - Error in sales_by_region: Shape of passed values is (17, 1), indices imply (17, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 591, in sales_by_region
    region_data = pd.DataFrame(results, columns=['region_label', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (17, 1), indices imply (17, 2)
2025-06-04 09:42:55,310 - __main__ - ERROR - Error in sales_by_customer: Shape of passed values is (20, 1), indices imply (20, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 676, in sales_by_customer
    customer_data = pd.DataFrame(results, columns=['customer_name', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (20, 1), indices imply (20, 2)
2025-06-04 09:42:55,327 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:42:55,330 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:42:55,333 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 09:42:55,335 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:42:55,338 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:42:55,339 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:42:55,340 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:42:55,357 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 09:42:55,372 - __main__ - ERROR - Error in repeat_vs_new_sales: Shape of passed values is (5, 1), indices imply (5, 3)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1081, in repeat_vs_new_sales
    order_counts = pd.DataFrame(cursor.fetchall(), columns=['period', 'customer_id', 'order_count'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (5, 1), indices imply (5, 3)
2025-06-04 09:42:55,374 - __main__ - DEBUG - Query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 09:42:55,375 - __main__ - ERROR - Error in sales_by_category: Shape of passed values is (2, 1), indices imply (2, 2)
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 907, in sales_by_category
    category_data = pd.DataFrame(results, columns=['category', 'total_sales'])
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\frame.py", line 867, in __init__
    mgr = ndarray_to_mgr(
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 336, in ndarray_to_mgr
    _check_values_indices_shape_match(values, index, columns)
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\pandas\core\internals\construction.py", line 420, in _check_values_indices_shape_match
    raise ValueError(f"Shape of passed values is {passed}, indices imply {implied}")
ValueError: Shape of passed values is (2, 1), indices imply (2, 2)
2025-06-04 09:42:55,375 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:42:55,378 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:42:55] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:46:06,927 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:46:06] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-04 09:47:34,841 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:47:34] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-04 09:50:26,053 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:50:26,370 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:50:38,617 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:50:38,617 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:50:38,620 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:50:42,227 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:50:42,243 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:50:42,934 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:42] "GET / HTTP/1.1" 200 -
2025-06-04 09:50:43,030 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:50:43,821 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:50:43,835 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:50:43,842 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:50:43,845 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:50:43,845 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:50:43,947 - __main__ - ERROR - Error in get_regions: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 484, in get_regions
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,947 - __main__ - ERROR - Error in sales_target_vs_achievement: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 746, in sales_target_vs_achievement
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,947 - __main__ - ERROR - Error in sales_by_salesperson: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 685, in sales_by_salesperson
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,947 - __main__ - ERROR - Error in sales_by_region: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 513, in sales_by_region
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,948 - __main__ - ERROR - Error in sales_funnel: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 572, in sales_funnel
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,949 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/regions HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,950 - __main__ - ERROR - Error in sales_by_customer: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 608, in sales_by_customer
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:43,950 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,951 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,953 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,954 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,958 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:43] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:43,972 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:50:43,986 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:50:44,002 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:44] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:50:44,003 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:50:44,018 - __main__ - ERROR - Error in sales_by_category: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 865, in sales_by_category
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:44,019 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:44] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:50:44,038 - __main__ - ERROR - Error in repeat_vs_new_sales: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1025, in repeat_vs_new_sales
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:50:44,042 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:50:44] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:52,390 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:52] "GET / HTTP/1.1" 200 -
2025-06-04 09:53:52,429 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:52] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:53:53,414 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:53:53,418 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:53:53,420 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:53:53,423 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:53:53,425 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:53:53,450 - __main__ - ERROR - Error in sales_by_salesperson: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 685, in sales_by_salesperson
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,455 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,455 - __main__ - ERROR - Error in get_regions: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 484, in get_regions
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,456 - __main__ - ERROR - Error in sales_by_customer: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 608, in sales_by_customer
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,457 - __main__ - ERROR - Error in sales_by_region: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 513, in sales_by_region
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,457 - __main__ - ERROR - Error in sales_funnel: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 572, in sales_funnel
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,458 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/regions HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,460 - __main__ - ERROR - Error in sales_target_vs_achievement: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 746, in sales_target_vs_achievement
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,465 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,469 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,473 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:53:53,473 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,475 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,489 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:53:53,490 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:53:53,508 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:53:53,512 - __main__ - ERROR - Error in sales_by_category: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 865, in sales_by_category
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,514 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:53:53,540 - __main__ - ERROR - Error in repeat_vs_new_sales: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1025, in repeat_vs_new_sales
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:53:53,542 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 09:53:53] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:21,350 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:54:21,350 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:54:21,353 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:54:25,011 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:54:25,020 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:54:29,915 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:29] "GET / HTTP/1.1" 200 -
2025-06-04 09:54:30,045 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:54:30,792 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:54:30,796 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:54:30,801 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:54:30,803 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:54:30,807 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:54:30,873 - __main__ - ERROR - Error in get_regions: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 484, in get_regions
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,873 - __main__ - ERROR - Error in sales_funnel: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 572, in sales_funnel
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,875 - __main__ - ERROR - Error in sales_by_region: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 513, in sales_by_region
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,877 - __main__ - ERROR - Error in sales_by_salesperson: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 685, in sales_by_salesperson
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,878 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/regions HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,879 - __main__ - ERROR - Error in sales_by_customer: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 608, in sales_by_customer
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,879 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,881 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,881 - __main__ - ERROR - Error in sales_target_vs_achievement: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 746, in sales_target_vs_achievement
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,881 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,883 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,887 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,895 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:54:30,906 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:54:30,920 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:54:30,922 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:54:30,948 - __main__ - ERROR - Error in sales_by_category: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 865, in sales_by_category
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,950 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:30,957 - __main__ - ERROR - Error in repeat_vs_new_sales: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
Traceback (most recent call last):
  File "C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\app.py", line 1025, in repeat_vs_new_sales
    conn = pyodbc.connect(get_connection_string())
pyodbc.InterfaceError: ('28000', "[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'sa'. (18456)")
2025-06-04 09:54:30,959 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:30] "[35m[1mGET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1[0m" 500 -
2025-06-04 09:54:40,657 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:54:40] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 09:56:55,548 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:56:55,914 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:56:59,558 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:56:59,564 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:57:02,318 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-04 09:57:02,656 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:57:06,192 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:57:06,204 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:57:28,384 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 09:57:28,384 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 09:57:28,388 - werkzeug - INFO -  * Restarting with stat
2025-06-04 09:57:31,856 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 09:57:31,869 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 09:57:34,109 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:34] "GET / HTTP/1.1" 200 -
2025-06-04 09:57:34,223 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:34] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 09:57:35,460 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 09:57:35,472 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:57:35,483 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 09:57:35,484 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 09:57:35,486 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 09:57:35,685 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:57:35,685 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 09:57:35,685 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 09:57:35,702 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 09:57:35,704 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:35,709 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 09:57:35,755 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 09:57:35,756 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 09:57:35,757 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 09:57:35,759 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 09:57:35,760 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 09:57:35,761 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 09:57:35,762 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 09:57:35,763 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 09:57:35,791 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 09:57:35,791 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:35,792 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 09:57:35,793 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 09:57:35,798 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:35,824 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:35,827 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 09:57:35,833 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 09:57:35,849 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:35,858 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:35] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 09:57:35,865 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 09:57:35,912 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 09:57:36,039 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 09:57:36,042 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:36] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 09:57:36,111 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 09:57:36,115 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 09:57:36] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:18,429 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:01:18,482 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:01:18,548 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:01:18,552 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:01:18,558 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 10:01:18] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:01:49,668 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:49] "GET / HTTP/1.1" 200 -
2025-06-04 10:01:49,712 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:49] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:01:51,177 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:01:51,184 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:01:51,185 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:01:51,190 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:01:51,191 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:01:51,196 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:01:51,205 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:01:51,206 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:01:51,220 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,225 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:01:51,236 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:01:51,236 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:01:51,240 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:01:51,242 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:01:51,257 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-04-30, end_date=2025-06-29
2025-06-04 10:01:51,257 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:01:51,259 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:01:51,260 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,260 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:01:51,261 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "[31m[1mGET /api/sales-growth-rate?period_type=MS&start_date=2025-04-30&end_date=2025-06-29 HTTP/1.1[0m" 400 -
2025-06-04 10:01:51,263 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,265 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:01:51,278 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:01:51,286 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:01:51,301 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,304 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:01:51,307 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:01:51,310 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:01:51,319 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:01:51,321 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,335 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:01:51,390 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:01:51,397 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:01:51,451 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:01:51,452 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:01:51] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:52,723 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:52] "GET / HTTP/1.1" 200 -
2025-06-04 10:11:52,842 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:52] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 10:11:53,467 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:11:53,476 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:11:53,484 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:11:53,485 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:11:53,486 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:11:53,514 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:11:53,518 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:11:53,518 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:11:53,538 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:11:53,538 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,546 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:11:53,569 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:11:53,571 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:11:53,580 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:11:53,591 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:11:53,593 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:11:53,594 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:11:53,596 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:11:53,597 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:11:53,598 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,599 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,600 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,601 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:11:53,603 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:11:53,633 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:11:53,672 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:11:53,720 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:11:53,721 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:11:53,752 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,911 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:11:53,913 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:11:53,973 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:11:53,979 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:11:53] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:31,687 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:31] "GET / HTTP/1.1" 200 -
2025-06-04 10:16:31,744 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:31] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:16:33,668 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:16:33,671 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:16:33,676 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:16:33,678 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:16:33,683 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:16:33,702 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:16:33,702 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:16:33,703 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:16:33,719 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,724 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:16:33,737 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:16:33,739 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:16:33,741 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:16:33,742 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:16:33,743 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:16:33,751 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:16:33,759 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:16:33,762 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:16:33,768 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:16:33,770 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:16:33,771 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,771 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,773 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,775 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:16:33,796 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:16:33,797 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:16:33,820 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:16:33,833 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,836 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:16:33,870 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:16:33,876 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:16:33,930 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:16:33,936 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:16:33] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,446 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET / HTTP/1.1" 200 -
2025-06-04 10:20:23,492 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:20:23,843 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:20:23,844 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:20:23,851 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:20:23,853 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:20:23,855 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:20:23,864 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:20:23,864 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:20:23,872 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:20:23,880 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,882 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:20:23,890 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:20:23,893 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:20:23,893 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:20:23,897 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:20:23,901 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:20:23,901 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:20:23,904 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:20:23,905 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,908 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:20:23,909 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:20:23,910 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:20:23,910 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,919 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,922 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:20:23,928 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:20:23,929 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:20:23,938 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:20:23,939 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,961 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:20:23,965 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:23,990 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:20:23,992 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:23] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:20:24,220 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:20:24] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:21:22,062 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET / HTTP/1.1" 200 -
2025-06-04 10:21:22,095 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:21:22,908 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:21:22,910 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:21:22,911 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:21:22,912 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:21:22,912 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:21:22,913 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:21:22,914 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:21:22,927 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:21:22,928 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:22,928 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:21:22,929 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:21:22,930 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:21:22,935 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:21:22,941 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:22,945 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:21:22,948 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:21:22,949 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:21:22,951 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:21:22,953 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:21:22,953 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:21:22,954 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:21:22,959 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:22,964 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:21:22,964 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:22,967 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:21:22,976 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:21:22,983 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:21:22,985 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:22] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:23,000 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:21:23,003 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:23] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:23,028 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:21:23,029 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:23] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:21:23,326 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:21:23] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:22:33,219 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:33] "GET / HTTP/1.1" 200 -
2025-06-04 10:22:33,246 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:33] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:22:34,230 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:22:34,233 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:22:34,234 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:22:34,235 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:22:34,242 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:22:34,256 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:22:34,256 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:22:34,261 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:22:34,274 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,288 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:22:34,288 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:22:34,290 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:22:34,299 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:22:34,299 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:22:34,300 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:22:34,300 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:22:34,300 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:22:34,305 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,306 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:22:34,316 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:22:34,316 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:22:34,318 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:22:34,319 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,319 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:22:34,323 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,332 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:22:34,334 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,342 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:22:34,370 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:22:34,373 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,401 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:22:34,402 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:22:34,696 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:22:34] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:23:24,377 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET / HTTP/1.1" 200 -
2025-06-04 10:23:24,415 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:23:24,690 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:23:24,691 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:23:24,692 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:24,694 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:24,694 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:23:24,695 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:24,697 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:24,698 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,705 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:23:24,708 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:23:24,710 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:23:24,712 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:23:24,712 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:23:24,713 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:23:24,717 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:23:24,720 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:23:24,722 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:23:24,722 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:23:24,725 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:23:24,727 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,727 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:23:24,729 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,729 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:23:24,729 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:23:24,729 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:23:24,736 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,741 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:23:24,745 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,792 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:23:24,796 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:24,830 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:23:24,831 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:24] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:25,121 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:25] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:23:35,537 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET / HTTP/1.1" 200 -
2025-06-04 10:23:35,559 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:23:35,799 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:23:35,802 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:35,806 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:35,807 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:35,809 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:23:35,810 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:23:35,811 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:35,812 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:23:35,823 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:23:35,823 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,826 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:23:35,826 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:23:35,839 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:23:35,840 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:23:35,840 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,842 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:23:35,843 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:23:35,847 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:23:35,848 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:23:35,855 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:23:35,856 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:23:35,857 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:23:35,858 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,859 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:23:35,859 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,866 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:23:35,873 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:23:35,875 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,905 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:23:35,908 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,936 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:23:35,938 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:35,976 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:35] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:23:46,154 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET / HTTP/1.1" 200 -
2025-06-04 10:23:46,184 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:23:46,351 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:23:46,354 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:46,354 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:46,356 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:46,356 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:23:46,358 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:23:46,358 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,358 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:23:46,360 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:23:46,372 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:46,374 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:23:46,384 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:23:46,385 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:23:46,387 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:23:46,388 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,388 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:23:46,390 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:23:46,391 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:23:46,392 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,406 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:23:46,406 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:23:46,408 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,409 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:23:46,410 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:23:46,419 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:23:46,424 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:23:46,425 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:23:46,428 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:23:46
2025-06-04 10:23:46,435 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:23:46,437 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:23:46,441 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:23:46,441 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:23:46,442 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,455 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:23:46,456 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:23:46,473 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:23:46,494 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:23:46,501 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,537 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:23:46,538 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:46,723 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:46] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:23:53,423 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET / HTTP/1.1" 200 -
2025-06-04 10:23:53,656 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:23:53,858 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:23:53,859 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:53,860 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:23:53,866 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:23:53,866 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:23:53,867 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:53,867 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:23:53,869 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:23:53,870 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:23:53,870 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:23:53,880 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:23:53,882 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:23:53,887 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:23:53,888 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:23:53,889 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:23:53,889 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:23:53,890 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:53,891 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:53,895 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:53,900 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:23:53,901 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:23:53,904 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:53,917 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:23:53,921 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:23:53,925 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:23:53,925 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:23:53,926 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:53] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:53,933 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:23:53,986 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:23:54,032 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:54] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:54,049 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:23:54,059 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:54] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:23:54,128 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:23:54] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:25:34,052 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:34] "GET / HTTP/1.1" 200 -
2025-06-04 10:25:34,082 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:34] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:25:35,216 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:25:35,217 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:25:35,219 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:25:35,220 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:25:35,222 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:25:35,254 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:25:35,254 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:25:35,255 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:25:35,269 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,270 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:25:35,286 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:25:35,291 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:25:35,300 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:25:35,300 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:25:35,302 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:25:35,302 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:25:35,303 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,307 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:25:35,312 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:25:35,316 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:25:35,321 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:25:35,323 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:25:35,327 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,331 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,341 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:25:35,352 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:25:35,353 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:25:35,356 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,416 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:25:35,458 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,480 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:25:35,488 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:25:35,654 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:25:35] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:29:21,984 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:21] "GET / HTTP/1.1" 200 -
2025-06-04 10:29:22,013 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:22] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:29:23,101 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:29:23,105 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:29:23,108 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:29:23,109 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:29:23,110 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:29:23,129 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:29:23,129 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:29:23,129 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:29:23,179 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:29:23,249 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,250 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:29:23,252 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:29:23,253 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:29:23,254 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:29:23,264 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:29:23,264 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:29:23,278 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,282 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:29:23,283 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,289 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:29:23,291 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:29:23,296 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,300 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:29:23,300 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:29:23,312 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:29:23,317 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:29:23,326 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:29:23,328 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,328 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:29:23,372 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:29:23,375 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:23,400 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:29:23,408 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:23] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,256 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET / HTTP/1.1" 200 -
2025-06-04 10:29:33,276 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:29:33,410 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:29:33,414 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:29:33,415 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:29:33,420 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:29:33
2025-06-04 10:29:33,426 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:29:33,427 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:29:33,429 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:29:33,428 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:29:33,429 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:29:33,431 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:29:33,439 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:29:33,442 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,443 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:29:33,443 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:29:33,444 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:29:33,444 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:29:33,445 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:29:33,448 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:29:33,448 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:29:33,456 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:29:33,457 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:29:33,458 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:29:33,460 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:29:33,460 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:29:33,460 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,461 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:29:33,461 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,462 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:29:33,462 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:29:33,465 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:29:33,472 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,473 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:29:33,474 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:29:33,476 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,489 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:29:33,491 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:29:33,506 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:29:33,510 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,547 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:29:33,548 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:29:33,731 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:29:33] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:31:28,377 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:28] "GET / HTTP/1.1" 200 -
2025-06-04 10:31:28,406 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:28] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:31:28,918 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:31:28,925 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:31:28,927 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:31:28,928 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:31:28,930 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:31:28,944 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:31:28,944 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:31:28,945 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:31:28,971 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:31:28,972 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:31:28,974 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:28] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:31:28,974 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:28] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:28,977 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:31:28,982 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:28] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:28,985 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:31:28,991 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:31:28,992 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:31:28,995 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:31:29,001 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:29,009 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:31:29,010 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:31:29,010 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:31:29,022 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:31:29,024 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:29,024 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:31:29,040 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:31:29,042 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:31:29,051 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:31:29,056 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:29,074 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:31:29,077 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:29,121 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:31:29,122 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:29] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:40,857 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:40] "GET / HTTP/1.1" 200 -
2025-06-04 10:31:40,890 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:40] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:31:40,993 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:40] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:31:41,221 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:31:41,222 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:31:41,235 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:31:41,236 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:31:41,237 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:31:41
2025-06-04 10:31:41,242 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:31:41,251 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:31:41,254 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:31:41,254 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,255 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:31:41,260 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:31:41,268 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:31:41,270 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:31:41,270 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:31:41,271 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:31:41,275 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:31:41,278 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:31:41,283 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:31:41,287 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:31:41,288 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:31:41,301 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:31:41,307 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:31:41,315 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:31:41,318 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:31:41,322 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,324 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:31:41,327 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,344 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:31:41,348 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:31:41,348 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:31:41,357 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:31:41,374 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:31:41,374 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:31:41,375 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:31:41,377 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,377 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,399 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:31:41,406 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:31:41,452 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:31:41,453 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:31:41] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:40,323 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET / HTTP/1.1" 200 -
2025-06-04 10:33:40,357 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:33:40,722 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:33:40,724 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:33:40,735 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:33:40,736 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:33:40,740 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:33:40,741 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:33:40,761 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:33:40,769 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:33:40,774 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:33:40,789 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:33:40,803 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:33:40,804 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:33:40,878 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:33:40,883 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:33:40,904 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:33:40,948 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:40,950 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:33:40,956 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:33:40,966 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:33:40,970 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:33:40,971 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:33:40,974 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:33:40,978 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:40] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:40,988 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:33:40,997 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:33:41,158 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:33:41,029 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:33:40,998 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:33:41,173 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:33:41,201 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:33:41,234 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:41,270 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:33:41,323 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:33:41,336 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:33:41,363 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:33:41,367 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:33:41,388 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:33:41,407 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:41,454 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:33:41,474 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:41,518 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:33:41,568 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:41,618 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:33:41,637 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:33:41,639 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:33:41,672 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:33:41,735 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:33:41,737 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:33:41,833 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:33:41,836 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:41,837 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:33:41,853 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:33:41
2025-06-04 10:33:41,867 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:33:41,872 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:33:41,887 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:33:41,924 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:41] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:33:41,970 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:33:41,976 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:33:42,018 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:33:42,032 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:33:42,035 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,113 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:33:42,114 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:33:42,148 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:33:42,150 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:33:42,158 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:33:42,165 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,166 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:33:42,200 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:33:42,217 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,221 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:33:42,230 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:33:42,233 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:33:42,244 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:33:42,247 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:33:42,248 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,279 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:33:42,320 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:33:42,353 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:33:42,361 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:33:42,374 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:33:42,449 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:33:42,472 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:33:42,482 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,487 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,522 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:33:42,540 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:33:42,552 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:33:42,553 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:33:42,568 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:33:42,572 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:33:42,573 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:33:42,588 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 10:33:42,738 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\8wzvs0p0.json
2025-06-04 10:33:42,751 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\u6g_l8bo.json
2025-06-04 10:33:42,802 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:33:42,805 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:33:42,807 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=21301', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\8wzvs0p0.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\u6g_l8bo.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelxk0q0x3u\\prophet_model-20250604103342.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:33:42,818 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:33:42,973 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:33:42,976 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:33:42] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:34:00,163 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:34:00,398 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:00] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:00,432 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:34:00,681 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:34:00,737 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\yyf_3_j0.json
2025-06-04 10:34:00,751 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\4_khoh6b.json
2025-06-04 10:34:00,754 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:34:00,755 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:34:00,766 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=42874', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\yyf_3_j0.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\4_khoh6b.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelp3k37gka\\prophet_model-20250604103400.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:34:00,766 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:34:09,399 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:09] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:21,539 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:34:21,641 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:21] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:23,025 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:23] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-04 10:34:25,688 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:25] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-04 10:34:29,075 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:29] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 10:34:36,973 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:34:36,979 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:34:36,985 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:34:36,982 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:34:36,996 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:34:37,003 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:34:37,012 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,025 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,028 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:34:37,029 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:34:37,031 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:34:37,036 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,061 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:34:37,065 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:34:37,067 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,076 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,077 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:34:37,100 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:34:37,115 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:34:37,116 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:34:37,119 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:34:37,122 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:34:37,137 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:34:37,147 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:34:37,150 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,157 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:34:37,164 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:34:37,166 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:34:37,172 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,176 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:34:37,178 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:34:37,197 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:34:37,210 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,222 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:34:37,222 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:34:37,240 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:34:37,262 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:34:37,262 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:34:37,277 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:34:37,281 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:34:37,308 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,313 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:34:37,332 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:34:37,353 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:34:37,406 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 10:34:37,415 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:34:37,418 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:34:37,422 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 10:34:37,438 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 10:34:37,441 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,490 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:34:37,498 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:34:37,501 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:34:37,594 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:37,596 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:34:37,673 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:34:37,720 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 10:34:37,866 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 10:34:37,870 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\kfsqm2bg.json
2025-06-04 10:34:37,905 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\18343y4y.json
2025-06-04 10:34:37,922 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 10:34:37,974 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:37] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:37,970 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\4nb1bv1n.json
2025-06-04 10:34:37,970 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\i66fzxw2.json
2025-06-04 10:34:37,987 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:34:37,995 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:34:38,010 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:34:38,010 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=65756', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\18343y4y.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\4nb1bv1n.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelrhswloqe\\prophet_model-20250604103437.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:34:38,013 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 10:34:38,045 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:34:38,054 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:34:38,065 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:34:38,072 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=15363', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\kfsqm2bg.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\i66fzxw2.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modely6gobt9a\\prophet_model-20250604103438.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:34:38,078 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 10:34:38,078 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:34:38,098 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 10:34:38,102 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-by-region HTTP/1.1" 200 -
2025-06-04 10:34:38,125 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:34:38,215 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:34:38,238 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:38,256 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 10:34:38,289 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 10:34:38,305 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:34:38,307 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:38,313 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:34:38,314 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:34:38,321 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 10:34:38,324 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:34:38,327 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:34:38,345 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 10:34:38,349 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:34:38,353 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 10:34:38,362 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 10:34:38,363 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:34:38,378 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:34:38,379 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 10:34:38,381 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:34:38,408 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:34:38,448 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:34:38,459 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:34:38,461 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:34:38,592 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 10:34:38,594 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:38] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 10:34:45,136 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:34:45] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:34:57,007 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:34:57,173 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:34:57,258 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\w2qsm95u.json
2025-06-04 10:34:57,273 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\vi9vhwcv.json
2025-06-04 10:34:57,291 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:34:57,293 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:34:57,304 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=31446', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\w2qsm95u.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\vi9vhwcv.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelyynxtw2w\\prophet_model-20250604103457.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:34:57,307 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:35:00,524 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:35:00,668 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:35:00,798 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:35:00] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 10:35:00,874 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:35:00] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:35:14,356 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:35:14,527 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:35:14] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:21,531 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:36:21,537 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:36:21,560 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:36:21,575 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:36:21,604 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:36:21,607 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:36:21,627 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:36:21,628 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:21,628 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:21,643 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:21,678 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:36:21,684 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:36:21,691 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:21,694 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:36:21,698 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:21,711 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:36:21,742 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:36:21,748 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:36:21,761 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:36:21,763 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:36:21,763 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:36:21,779 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:36:21,788 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:36:21,810 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:36:21,833 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:36:21,844 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:36:21,847 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:36:21,850 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:21,851 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:36:21,854 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:36:21,856 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:21,883 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:21] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:21,989 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:36:22,011 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:36:22,031 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:36:22,041 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:36:22,073 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:36:22,076 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:22,090 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:36:22,095 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:36:22,124 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:22,129 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:36:22,131 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:36:22,156 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:36:22,175 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:36:22,181 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:36:22,202 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 10:36:22,231 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:36:22,232 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 10:36:22,246 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:36:22,256 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:22,320 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:36:22,364 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:36:22,372 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 10:36:22,375 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\hh7w4i4c.json
2025-06-04 10:36:22,379 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\g4gkulxk.json
2025-06-04 10:36:22,381 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 10:36:22,381 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:36:22,389 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 10:36:22,391 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 10:36:22,391 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:36:22,392 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-region HTTP/1.1" 200 -
2025-06-04 10:36:22,392 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=89131', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\hh7w4i4c.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\g4gkulxk.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelcj4j1kgm\\prophet_model-20250604103622.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:36:22,393 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:36:22,487 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:36:22,489 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:36:22,490 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:36:22,508 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:36:22,509 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 10:36:22,552 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 10:36:22,555 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 10:36:22,556 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:36:22,557 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:36:22,567 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:36:22,570 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:36:22,591 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 10:36:22,604 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 10:36:22,605 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\jkzmw5bu.json
2025-06-04 10:36:22,626 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:36:22,630 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\aaogenrw.json
2025-06-04 10:36:22,651 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:36:22,660 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:36:22,664 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:36:22,664 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=12237', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\jkzmw5bu.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\aaogenrw.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model2mq1gh_z\\prophet_model-20250604103622.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:36:22,671 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 10:36:22,675 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:36:22,687 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:36:22,706 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 10:36:22,710 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:22,740 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 10:36:22,745 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:36:22,760 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 10:36:22,773 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:36:22,774 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:22,787 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:36:22,801 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:36:22,827 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 10:36:22,845 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:22,857 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:36:22,860 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:36:22,861 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:22,937 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 10:36:22,939 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 10:36:22,990 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:22] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:36:38,639 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:36:38,725 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:36:38,809 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:38] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:36:38,845 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:38] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 10:36:38,872 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:36:39,028 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:36:39,070 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\4z1cmw7c.json
2025-06-04 10:36:39,076 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\ckorog_h.json
2025-06-04 10:36:39,085 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:36:39,085 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:36:39,087 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=40948', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\4z1cmw7c.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\ckorog_h.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model7ignq3ae\\prophet_model-20250604103639.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:36:39,087 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:36:51,671 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:36:51,775 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:36:51] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:45:55,404 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:45:55] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-04 10:45:58,191 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:45:58] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 10:46:01,205 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:01] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-04 10:46:03,251 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:03] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:46:05,180 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:05] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 10:46:09,534 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:46:09,534 - __main__ - DEBUG - Parameters: filter=yesterday, start_date=None, end_date=None
2025-06-04 10:46:09,537 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 23:59:59
2025-06-04 10:46:09,551 - __main__ - WARNING - No data returned from query
2025-06-04 10:46:09,556 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:09] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-04 10:46:11,643 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:46:11,646 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:46:11,646 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:46:11
2025-06-04 10:46:11,648 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:46:11,675 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:11] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:46:13,565 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:46:13,566 - __main__ - DEBUG - Parameters: filter=this-week, start_date=None, end_date=None
2025-06-04 10:46:13,566 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-04 10:46:13
2025-06-04 10:46:13,572 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:13] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-04 10:46:15,766 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:46:15,766 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 10:46:15,768 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 10:46:15
2025-06-04 10:46:15,775 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:15] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-04 10:46:25,164 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:25] "GET / HTTP/1.1" 200 -
2025-06-04 10:46:25,273 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:25] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 10:46:26,348 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:46:26,376 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:46:26,377 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:46:26,389 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:46:26,390 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:46:26,391 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:46:26,392 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:46:26,393 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:46:26,405 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:46:26,411 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:46:26,427 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:46:26,429 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:46:26,448 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:46:26,454 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:46:26,456 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:46:26,457 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,478 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:46:26,495 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:46:26,513 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:46:26,513 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:46:26,519 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:46:26,521 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:46:26,521 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:46:26,523 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:46:26,532 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:46:26,542 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:46:26,549 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:46:26,578 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,578 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:46:26,614 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:46:26,616 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:46:26,664 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:46:26,667 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,679 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:46:26,688 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,694 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:46:26,735 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:46:26,737 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:46:26,746 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:46:26,747 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:46:26,752 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:46:26,761 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:46:26,783 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:46:26,764 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,863 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:46:26,882 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:46:26,894 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:46:26,910 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:46:26,911 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:26] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:26,957 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:46:26,974 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:46:27,011 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:46:27,011 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\a43ma1fn.json
2025-06-04 10:46:27,013 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:46:27,014 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:46:27,019 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:46:27
2025-06-04 10:46:27,020 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:46:27,022 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\1irtijr4.json
2025-06-04 10:46:27,029 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:46:27,034 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:46:27,046 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:46:27,060 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,070 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:46:27,078 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:46:27,088 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=80245', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\a43ma1fn.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\1irtijr4.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelapxg7b1w\\prophet_model-20250604104627.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:46:27,090 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,092 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,102 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:46:27,110 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:46:27,107 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:46:27,146 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:46:27,127 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:46:27,149 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:46:27,153 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:46:27,153 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:46:27,153 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:46:27,156 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:46:27,179 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:46:27,190 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:46:27,192 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:46:27,213 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:46:27,215 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:46:27,235 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,230 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:46:27,246 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:46:27,247 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,259 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:27,278 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:46:27,291 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:46:27,297 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:46:27,305 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:27] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:46:27,306 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:46:27,329 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:46:27,343 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:46:28,524 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:46:28,524 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:46:28,527 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:46:28,529 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:28] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:28,530 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:28] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:28,611 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:46:28,644 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:28] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:46:34,744 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:34] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:46:46,408 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:46:46,522 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:46:46,550 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\1b_j0xwx.json
2025-06-04 10:46:46,555 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\o4e2ca80.json
2025-06-04 10:46:46,556 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:46:46,558 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:46:46,558 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=79104', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\1b_j0xwx.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\o4e2ca80.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelbp2t3foc\\prophet_model-20250604104646.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:46:46,558 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:46:46,899 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:46:47,005 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:47] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:46:56,234 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:46:56,286 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:46:56] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,017 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET / HTTP/1.1" 200 -
2025-06-04 10:47:40,052 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:47:40,313 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:47:40,314 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:47:40,318 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:47:40,332 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:47:40
2025-06-04 10:47:40,334 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:47:40,343 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,344 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:47:40,363 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:47:40,370 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:47:40,382 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:47:40,384 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:47:40,387 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:47:40,391 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:47:40,393 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:47:40,395 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:47:40,395 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:47:40,396 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:47:40,398 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:47:40,415 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:47:40,417 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:47:40,418 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:47:40,423 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:47:40,427 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,427 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:47:40,435 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:47:40,445 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:47:40,446 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:47:40,446 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:47:40,451 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:47:40,451 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:47:40,451 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:47:40,453 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,457 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:47:40,470 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:47:40,472 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,474 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,535 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:47:40,544 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:47:40,618 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:47:40,621 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:47:40] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:48,275 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:48] "GET / HTTP/1.1" 200 -
2025-06-04 10:48:48,562 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:48] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 10:48:48,863 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:48] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:48:49,080 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:48:49,082 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:48:49,087 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:48:49,090 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:48:49,098 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:48:49,101 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:48:49,102 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:48:49,115 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:48:49,117 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:48:49,122 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:48:49,130 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:48:49,136 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:48:49,150 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:48:49,153 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:48:49,167 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:48:49,170 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,170 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:48:49,172 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,172 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:48:49,172 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:48:49,314 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:48:49,338 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:48:49,367 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:48:49,385 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:48:49,403 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:48:49,434 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:48:49,464 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:48:49,479 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:48:49,518 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:48:49,520 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:48:49,542 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,551 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:48:49,556 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:48:49,572 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:48:49,572 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,603 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:48:49,604 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:48:49,616 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,621 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:48:49,629 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:48:49,635 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:48:49,648 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:48:49,695 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:48:49,724 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:48:49,763 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:49,768 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:48:49,825 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:48:49,828 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:48:49,851 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\cd0rpcty.json
2025-06-04 10:48:49,856 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:48:49,857 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:48:49,902 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\4x51w8la.json
2025-06-04 10:48:49,904 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:48:49
2025-06-04 10:48:49,937 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:48:49,970 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 10:48:49,972 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:48:49,972 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:48:49,973 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=85538', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\cd0rpcty.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\4x51w8la.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelpog0gfqt\\prophet_model-20250604104849.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:48:49,975 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:48:49,992 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:49] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 10:48:49,990 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:48:50,008 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:48:50,022 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 10:48:50,070 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 10:48:50,073 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,105 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,106 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:48:50,126 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:48:50,130 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 10:48:50,142 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:48:50,154 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 10:48:50,156 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:48:50,165 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 10:48:50,170 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:48:50,172 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:48:50,189 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 10:48:50,200 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,202 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:48:50,205 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,219 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 10:48:50,224 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 10:48:50,236 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 10:48:50,236 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 10:48:50,241 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 10:48:50,241 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 10:48:50,252 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 10:48:50,255 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,271 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:48:50,281 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:48:50,287 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,288 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:48:50,301 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 10:48:50,304 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:48:50,306 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,316 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:48:50,320 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:48:50,321 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:48:50,374 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 10:48:50,374 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:50] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 10:48:54,628 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:48:54] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:49:03,917 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:49:04,071 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:49:04] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:49:04,104 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:49:04,279 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:49:04,344 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\8_v_yy6h.json
2025-06-04 10:49:04,349 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\n79io_ws.json
2025-06-04 10:49:04,352 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:49:04,352 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:49:04,352 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=70299', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\8_v_yy6h.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\n79io_ws.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_models113_wkk\\prophet_model-20250604104904.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:49:04,352 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:49:22,509 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:49:22,620 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:49:22] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:51:59,208 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:51:59,210 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:51:59,211 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:51:59,220 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:51:59,280 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:51:59,280 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:51:59,295 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:51:59,298 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:51:59,314 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:51:59,315 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:51:59,329 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:51:59,330 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:51:59,339 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:51:59,343 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:51:59,345 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:51:59,353 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:51:59,365 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:51:59,371 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:51:59,376 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:51:59,378 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:51:59,409 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:51:59,414 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:51:59,616 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:51:59,669 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\z5w0o5_u.json
2025-06-04 10:51:59,675 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:51:59,675 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:51:59,677 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\44u1aja0.json
2025-06-04 10:51:59,689 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:51:59,690 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:51:59,694 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:51:59,694 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:51:59,695 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:51:59,696 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:51:59,700 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:51:59,705 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=68747', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\z5w0o5_u.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\44u1aja0.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelj2cqjsfg\\prophet_model-20250604105159.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:51:59,707 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:51:59,712 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:51:59,719 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:51:59,741 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:51:59,726 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:51:59] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:51:59,781 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:51:59,829 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:51:59,858 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:51:59,863 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:51:59,873 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:52:00,536 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:52:00,538 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:52:00,558 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:52:00,571 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:52:00,591 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:52:00,608 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:00,723 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 10:52:00,742 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:52:00,752 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:52:00,758 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:00,767 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:52:00,777 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 10:52:00,798 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:52:00,810 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:52:00,821 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:00,842 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:52:00,855 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:52:00,928 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:52:00,934 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:52:00,941 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 10:52:00,944 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:52:00,949 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 10:52:00,951 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 10:52:00,959 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 10:52:00,971 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 10:52:00,985 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:00,989 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:52:00,989 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:52:00,992 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:00] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:00,992 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:01,011 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 10:52:01,027 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 10:52:01,044 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 10:52:01,045 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:01,053 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:01,054 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 10:52:01,056 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:01,056 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:52:01,075 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:52:01,118 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:01,119 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:52:01,140 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\sc6e2aq6.json
2025-06-04 10:52:01,159 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\9ulajdxi.json
2025-06-04 10:52:01,173 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:52:01,174 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:52:01,177 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=94388', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\sc6e2aq6.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\9ulajdxi.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelmnvhu7m2\\prophet_model-20250604105201.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:52:01,178 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:52:01,194 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:52:01,207 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:52:01,218 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:01,243 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:52:01,251 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 10:52:01,259 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:01,260 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:01,269 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:52:01,290 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:52:01,292 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:01,323 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 10:52:01,324 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:01] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 10:52:15,973 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:52:16,092 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:16] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:16,141 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:52:16,293 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:52:16,338 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\knuh4mw7.json
2025-06-04 10:52:16,342 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\cjoat371.json
2025-06-04 10:52:16,345 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:52:16,350 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:52:16,355 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=22224', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\knuh4mw7.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\cjoat371.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modeli8re6hbl\\prophet_model-20250604105216.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:52:16,357 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:52:16,474 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:52:16,623 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:16] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,435 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:52:19,437 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:52:19,438 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:52:19,438 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:52:19,457 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:19,459 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:19,460 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:19,469 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:19,493 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:52:19,505 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:19,516 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,516 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:19,521 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:52:19,536 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:52:19,539 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:52:19,540 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:19,540 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:52:19,542 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:52:19,544 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:52:19,556 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:52:19,572 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:19,574 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:52:19,609 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:52:19,635 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:52:19,639 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:52:19,641 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,648 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,657 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:52:19,704 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:52:19,727 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:52:19,738 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:52:19,741 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:52:19,742 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:52:19,742 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,767 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:52:19,774 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:52:19,792 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:52:19,792 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:52:19,835 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:52:19,845 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:52:19,851 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:52:19,851 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,853 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:52:19,947 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:52:19,959 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 10:52:19,959 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:19] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:19,976 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:52:20,007 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:52:20,024 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:52:20,037 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 10:52:20,050 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:52:20,070 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:52:20,075 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:52:20,078 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 10:52:20,102 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:52:20,104 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 10:52:20,117 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 10:52:20,120 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 10:52:20,132 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 10:52:20,142 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 10:52:20,145 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:52:20,151 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:20,158 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 10:52:20,171 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 10:52:20,172 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:20,288 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:52:20,295 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:52:20,306 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:52:20,332 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:20,376 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:20,513 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\mkm_y0mt.json
2025-06-04 10:52:20,542 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 10:52:20,553 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\qwvkrqw5.json
2025-06-04 10:52:20,567 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:52:20,579 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 10:52:20,580 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:52:20,590 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:20,590 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:52:20,592 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:52:20,600 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=10462', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\mkm_y0mt.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\qwvkrqw5.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelow6_h1tl\\prophet_model-20250604105220.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:52:20,609 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:52:20,606 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:52:20,626 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:20,659 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:52:20,684 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:52:20,691 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:20,701 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 10:52:20,709 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:52:20,709 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:20,721 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:52:20,743 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:52:20,790 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:52:20,791 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:20,889 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 10:52:20,891 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:20] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 10:52:21,040 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:21] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:52:34,096 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:52:34,225 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:34] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:52:37,706 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:52:37,766 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:52:37] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 10:53:29,456 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:53:29] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 10:56:31,408 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET / HTTP/1.1" 200 -
2025-06-04 10:56:31,569 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 10:56:31,821 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 10:56:31,828 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:56:31,828 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:56:31,831 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 10:56:31,834 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 10:56:31,835 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:56:31,847 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:56:31,848 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 10:56:31,862 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:56:31,864 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:56:31,864 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 10:56:31,892 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:56:31,895 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:56:31,900 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 10:56:31,901 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:56:31,901 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:56:31,902 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:31] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:31,913 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:56:31,920 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:56:31,956 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:56:31,962 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 10:56:32,017 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 10:56:32,070 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:56:32,080 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,071 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 10:56:32,088 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 10:56:32,104 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 10:56:32,117 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 10:56:32,118 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 10:56:32,166 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 10:56:32,170 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 10:56:32,174 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,175 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 10:56:32,183 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 10:56:32,211 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,216 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 10:56:32,233 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 10:56:32,235 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 10:56:32,236 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 10:56:32,262 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 10:56:32,288 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 10:56:32,292 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,311 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:56:32,338 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 10:56:32,396 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 10:56:32,403 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 10:56:32,418 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\gppae60h.json
2025-06-04 10:56:32,434 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 10:56:32,435 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\c88x3ax8.json
2025-06-04 10:56:32,478 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:56:32,520 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:56:32,513 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 10:56:32,524 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 10:56:32,546 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=9644', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\gppae60h.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\c88x3ax8.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model6z5mlmni\\prophet_model-20250604105632.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:56:32,548 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 10:56:32,552 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:56:32,557 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 10:56:32
2025-06-04 10:56:32,562 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 10:56:32,568 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 10:56:32,575 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 10:56:32,647 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 10:56:32,688 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 10:56:32,697 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 10:56:32,760 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,762 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 10:56:32,775 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:32,850 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 10:56:32,887 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:32] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:38,684 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:38] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 10:56:43,966 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:56:44,088 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:44] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 10:56:44,126 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 10:56:44,236 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 10:56:44,263 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\px588e83.json
2025-06-04 10:56:44,267 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\q8s9sbvs.json
2025-06-04 10:56:44,269 - cmdstanpy - DEBUG - idx 0
2025-06-04 10:56:44,269 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 10:56:44,271 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=36588', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\px588e83.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\q8s9sbvs.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model48tw3bcu\\prophet_model-20250604105644.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 10:56:44,272 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 10:56:53,960 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 10:56:54,084 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 10:56:54] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:02:34,928 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:34] "GET / HTTP/1.1" 200 -
2025-06-04 11:02:35,025 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:35] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 11:02:36,412 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:36] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:02:36,422 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:36] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:02:48,409 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:48] "GET / HTTP/1.1" 200 -
2025-06-04 11:02:48,478 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:48] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 11:02:49,104 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:02:49,107 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:02:49,108 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:02:49,109 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:02:49,109 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:02:49,110 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:02:49,116 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:02:49,119 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:02:49,125 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:02:49,127 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,127 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:02:49,140 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:02:49,142 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:02:49,142 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:02:49,142 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:02:49,143 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:02:49,143 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:02:49,159 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:02:49,161 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:02:49,161 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:02:49,168 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,169 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:02:49,170 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,170 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:02:49,170 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:02:49,174 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,195 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:02:49,195 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,199 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:02:49,246 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:02:49,257 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:02:49,312 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:02:49,316 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:02:49] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,285 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET / HTTP/1.1" 200 -
2025-06-04 11:03:15,308 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:03:15,531 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:03:15,531 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:03:15,532 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:03:15,532 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:03:15,533 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:03:15,534 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:03:15,534 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:03:15,534 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:03:15,551 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,553 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:03:15,553 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:03:15,557 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:03:15,568 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:03:15,569 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:03:15,570 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:03:15,570 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:03:15,572 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:03:15,573 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,573 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:03:15,573 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:03:15,579 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:03:15,581 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:03:15,591 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,599 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:03:15,599 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,602 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:03:15,607 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:03:15,623 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:03:15,624 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,648 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:03:15,654 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:03:15,704 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:03:15,705 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:03:15] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:21,906 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:21] "GET / HTTP/1.1" 200 -
2025-06-04 11:05:21,952 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:21] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:05:22,824 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:05:22,827 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:05:22,829 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:05:22,829 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:05:22,830 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:05:22,850 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:05:22,850 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:05:22,850 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:05:22,870 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:05:22,870 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:05:22,871 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:05:22,880 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:22,881 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:05:22,882 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:05:22,883 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:22,886 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:05:22,888 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:05:22,891 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:05:22,892 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:05:22,895 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:05:22,896 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:05:22,906 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:22,906 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:05:22,911 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:05:22,912 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:22,922 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:05:22,937 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:05:22,950 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:05:22,965 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:22] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:22,971 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:05:23,039 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:23] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:05:23,096 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:05:23,100 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:05:23] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,159 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET / HTTP/1.1" 200 -
2025-06-04 11:06:18,193 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:06:18,410 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:06:18,412 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:06:18,412 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:06:18,412 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:06:18,414 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:06:18,426 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:06:18,443 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:06:18,445 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:06:18,446 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:06:18,460 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:06:18,461 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:06:18,463 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:06:18,464 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:06:18,475 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:06:18,475 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:06:18,484 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:06:18,488 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:06:18,490 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:06:18,494 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:06:18,510 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:06:18,511 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,513 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:06:18,562 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:06:18,562 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:06:18,564 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,566 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:06:18,568 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:06:18,570 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:06:18,589 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:06:18,591 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:06:18,597 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:06:18,605 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,610 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,611 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:06:18,656 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:06:18,674 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:06:18,678 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:06:18,679 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:06:18,719 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:06:18,726 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:06:18,797 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:06:18,800 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:06:18,810 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:06:18,825 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:06:18,845 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,905 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:06:18,909 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:06:18,912 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:18] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:18,912 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:06:18,916 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:06:18,990 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:06:18
2025-06-04 11:06:19,058 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\a4digfpa.json
2025-06-04 11:06:19,064 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:06:19,077 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\rfhquwxf.json
2025-06-04 11:06:19,096 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:06:19,097 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:06:19,098 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:06:19,115 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:06:19,119 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:06:19,136 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:06:19,139 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=17278', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\a4digfpa.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\rfhquwxf.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modeljduhpw1a\\prophet_model-20250604110619.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:06:19,140 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:06:19,194 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:06:19,239 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:06:19,262 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:06:19,310 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:19,343 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:06:19,357 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:06:19,375 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:06:19,521 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:06:19,523 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:06:19,540 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:06:19,541 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:19,542 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:06:19,559 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:06:19,563 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:19,604 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:06:19,609 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:19,627 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:06:19,713 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:06:19,714 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:06:19,723 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:06:19,755 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:06:19,848 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:06:19,851 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:06:19,864 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:06:19,867 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:19,893 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:06:19,912 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:19] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:06:19,927 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:06:19,945 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:06:19,957 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:06:20,044 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:20] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:20,068 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:06:20,080 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:06:20,094 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:20] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:20,094 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:06:20,102 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:20] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:20,387 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:06:20,391 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:20] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:26,735 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:26] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:06:30,370 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:30] "GET / HTTP/1.1" 200 -
2025-06-04 11:06:32,820 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:06:32,891 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:32] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,187 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:06:33,234 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:06:33,235 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:06:33,236 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:06:33,237 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:06:33,237 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:06:33,238 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:06:33,239 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:06:33,240 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:06:33,250 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:06:33,254 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:06:33,255 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:06:33,262 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:06:33,263 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,265 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,268 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:06:33,269 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:06:33,269 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:06:33,276 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:06:33,278 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:06:33,279 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:06:33,286 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,286 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:06:33,287 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:06:33,288 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:06:33,289 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,324 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:06:33,328 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:06:33,331 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:06:33,336 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,377 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:06:33,386 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:06:33,440 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:06:33,441 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:06:33] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:17,998 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:17] "GET / HTTP/1.1" 200 -
2025-06-04 11:07:18,050 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:07:18,329 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:07:18,329 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:07:18,332 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:07:18,333 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:07:18,333 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:07:18,335 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:07:18,336 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:07:18,348 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:07:18,349 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:07:18,351 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:07:18,352 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:07:18,359 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:07:18,364 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:07:18,365 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:07:18,373 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:07:18,375 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:07:18,380 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:07:18,381 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:07:18,381 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:07:18,382 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:07:18,395 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:07:18,396 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,398 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:07:18,398 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:07:18,398 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:07:18,405 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:07:18,415 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:07:18,416 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,418 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:07:18,419 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,420 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:07:18,436 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:07:18,437 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,451 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:07:18,453 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:07:18,463 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:07:18,465 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:07:18,466 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:07:18,479 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:07:18,486 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:07:18,495 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:07:18,496 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,497 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:07:18,499 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:07:18,501 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:07:18,521 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:07:18,523 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:07:18,549 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:07:18,549 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:07:18
2025-06-04 11:07:18,565 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,566 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:07:18,601 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:07:18,616 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:07:18,635 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:07:18,638 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:07:18,646 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:07:18,670 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,690 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:07:18,697 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:07:18,699 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\02frp82e.json
2025-06-04 11:07:18,707 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:07:18,713 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\s_uhif7k.json
2025-06-04 11:07:18,716 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:07:18,717 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:07:18,718 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=17772', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\02frp82e.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\s_uhif7k.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model6rbjs51b\\prophet_model-20250604110718.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:07:18,718 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:07:18,729 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:07:18,731 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,748 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:07:18,753 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:18] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:18,756 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:07:18,764 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:07:18,766 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:07:18,768 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:07:18,784 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:07:18,789 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:07:18,828 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:07:18,853 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:07:18,889 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:07:18,964 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:07:19,019 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:19,020 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:07:19,073 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:07:19,116 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:19,119 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:07:19,139 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:07:19,151 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:07:19,155 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:07:19,186 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:07:19,212 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:07:19,215 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:07:19,216 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:19,251 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:07:19,254 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:19,254 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:07:19,269 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:07:19,273 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:07:19,302 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:07:19,505 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:07:19,522 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:19] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:07:25,170 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:25] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:07:38,420 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:07:38,721 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:07:38,794 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\z4l9sfqh.json
2025-06-04 11:07:38,801 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\h3slpmtu.json
2025-06-04 11:07:38,811 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:07:38,812 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:07:38,814 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=27534', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\z4l9sfqh.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\h3slpmtu.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modeldcrqw_ui\\prophet_model-20250604110738.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:07:38,816 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:07:39,601 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:07:39,917 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:07:39] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:02,400 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:08:02,568 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:02] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,174 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET / HTTP/1.1" 200 -
2025-06-04 11:08:50,223 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:08:50,501 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:08:50,502 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:08:50,503 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:08:50,505 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:08:50,507 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:08:50,519 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:08:50,520 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:08:50,523 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:08:50,523 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:08:50,525 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:08:50,526 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:08:50,536 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:08:50,536 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:08:50,550 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:08:50,550 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:08:50,552 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:08:50,556 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:08:50,558 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:08:50,563 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:08:50,564 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,570 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:08:50,571 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:08:50,582 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:08:50,583 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:08:50,583 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:08:50,584 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,587 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:08:50,590 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:08:50,592 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:08:50,594 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,598 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:08:50,608 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:08:50,616 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:08:50,623 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:08:50,633 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,638 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:08:50,642 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:08:50,653 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:08:50,654 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:08:50,657 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,660 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:08:50,680 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:08:50,708 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:08:50,727 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:08:50,736 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:08:50,742 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:08:50,750 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:08:50,752 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:08:50,752 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:08:50
2025-06-04 11:08:50,772 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:08:50,786 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:08:50,816 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:08:50,822 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:08:50,824 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:08:50,834 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,851 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:08:50,856 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:08:50,890 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:08:50,916 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\wkm_3fy0.json
2025-06-04 11:08:50,918 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:08:50,925 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,935 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\yc_zmd9m.json
2025-06-04 11:08:50,941 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:08:50,943 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:08:50,956 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:08:50,957 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:08:50,957 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:08:50,960 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,967 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:08:50,968 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=13983', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\wkm_3fy0.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\yc_zmd9m.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model8dpdxumx\\prophet_model-20250604110850.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:08:50,975 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:08:50,976 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:08:50,983 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:08:50,989 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:08:50,998 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:50] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:50,998 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:08:51,003 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:08:51,004 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,069 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:08:51,074 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:08:51,087 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:08:51,117 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:08:51,117 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:08:51,165 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:08:51,168 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:08:51,190 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:08:51,193 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,221 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:08:51,241 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:08:51,258 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:08:51,264 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,273 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,274 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:08:51,295 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:08:51,316 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:08:51,320 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:08:51,342 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,365 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:08:51,381 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:08:51,388 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:08:51,666 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:08:51] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:10,532 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:09:10,744 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:09:10,815 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\3vgru2l6.json
2025-06-04 11:09:10,819 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\hmxy9woi.json
2025-06-04 11:09:10,826 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:09:10,829 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:09:10,833 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=18142', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\3vgru2l6.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\hmxy9woi.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelebs_vlil\\prophet_model-20250604110910.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:09:10,834 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:09:12,289 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:09:12,584 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:12] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:29,099 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:09:29,285 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:29] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:35,796 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:09:35,797 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:09:35,799 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:09:35,800 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:09:35,808 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:09:35,809 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:35,810 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:09:35,813 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:35,831 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:09:35,862 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:09:35,874 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:09:35,877 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:09:35,877 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:09:35,878 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:35,879 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:35,881 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:35,900 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:09:35,916 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:09:35,918 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:09:35,920 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:09:35,942 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:09:35,927 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:09:35,940 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:09:35,949 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:09:35,955 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:09:35,962 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:09:35,977 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:09:35,978 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:09:35,981 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:35,982 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:35] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,014 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:09:36,017 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,102 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:09:36,108 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:09:36,134 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:09:36,134 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:09:36,156 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:09:36,157 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:09:36,191 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:09:36,217 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:09:36,252 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:09:36,266 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:09:36,275 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:09:36,302 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:09:36,313 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:09:36,379 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,428 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,433 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\2_xa48b8.json
2025-06-04 11:09:36,474 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\9m1wzat5.json
2025-06-04 11:09:36,478 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 11:09:36,502 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:09:36,513 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,515 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:09:36,518 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:09:36,535 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 11:09:36,536 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 11:09:36,537 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:09:36,541 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:09:36,549 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:09:36,560 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 11:09:36,580 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:09:36,580 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=26244', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\2_xa48b8.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\9m1wzat5.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model132b3igl\\prophet_model-20250604110936.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:09:36,582 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 11:09:36,582 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:36,584 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:09:36,585 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:09:36,615 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:09:36,649 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:09:36,661 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:09:36,662 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:09:36,711 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 11:09:36,713 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:09:36,726 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 11:09:36,791 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 11:09:36,796 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 11:09:36,798 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 11:09:36,817 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:09:36,834 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:09:36,836 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 11:09:36,851 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:09:36,859 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 11:09:36,860 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:09:36,862 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:36,916 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 11:09:36,962 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 11:09:36,962 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:09:36,966 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:36] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:36,968 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\yli4v7uk.json
2025-06-04 11:09:37,000 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\q6j7t4p8.json
2025-06-04 11:09:37,002 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:09:37,020 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:09:37,032 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:09:37,043 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:09:37,034 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:09:37,102 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=62882', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\yli4v7uk.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\q6j7t4p8.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modely4m89dpi\\prophet_model-20250604110937.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:09:37,116 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:09:37,115 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:09:37,167 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:09:37,181 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:37] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:09:37,232 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 11:09:37,245 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:37] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:37,386 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 11:09:37,395 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:37] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 11:09:37,698 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:09:37] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:09:55,829 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:09:56,040 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:09:56,081 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\88kspaet.json
2025-06-04 11:09:56,094 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\8t1gwo2k.json
2025-06-04 11:09:56,097 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:09:56,097 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:09:56,097 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=20043', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\88kspaet.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\8t1gwo2k.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelu0w_4su4\\prophet_model-20250604110956.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:09:56,097 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:10:05,225 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:10:05,375 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:10:05] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 11:10:05,460 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:10:05,591 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:10:05] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:10:18,241 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:10:18,391 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:10:18] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:46,555 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:46] "GET / HTTP/1.1" 200 -
2025-06-04 11:16:46,600 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:46] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:16:47,580 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:16:47,703 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:16:47,705 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:16:47,706 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:16:47,706 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:16:47,718 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:16:47,721 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:16:47,722 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:16:47,733 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:16:47,734 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:16:47,734 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:16:47,735 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:16:47,744 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:16:47,763 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:16:47,764 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:16:47,764 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:47,766 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:16:47,776 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:16:47,778 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:16:47,780 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:16:47,783 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:16:47,783 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:16:47,785 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:16:47,786 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:47,792 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:16:47,795 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:16:47,805 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:16:47,812 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:16:47,851 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:16:47,853 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:16:47,871 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:16:47,882 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:47,914 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:16:47,918 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:16:47,939 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:16:47,953 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:16:47,954 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:16:47,966 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:16:47,967 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:47,970 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:47] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,018 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:16:48,033 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,034 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:16:48,053 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:16:48,054 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:16:48,055 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:16:48,060 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:16:48,101 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:16:48,113 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:16:48,113 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:16:48,123 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:16:48,130 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:16:48
2025-06-04 11:16:48,194 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:16:48,269 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:16:48,280 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\rns_fk8i.json
2025-06-04 11:16:48,304 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:16:48,305 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,305 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:16:48,331 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\6nk1oxso.json
2025-06-04 11:16:48,382 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:16:48,385 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,388 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:16:48,415 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=59193', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\rns_fk8i.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\6nk1oxso.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model4b7m_1_0\\prophet_model-20250604111648.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:16:48,417 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:16:48,417 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:16:48,431 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:16:48,432 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:16:48,433 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:16:48,418 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:16:48,433 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:16:48,444 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:16:48,498 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:16:48,498 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:16:48,499 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:16:48,501 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,536 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:16:48,537 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:16:48,547 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,556 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:16:48,571 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:16:48,572 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:16:48,584 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:16:48,617 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,616 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:16:48,613 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:16:48,636 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:16:48,651 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:16:48,665 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:16:48,688 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:16:48,688 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:16:48,701 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,814 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:16:48,817 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:16:48,820 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:48,828 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:48] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:16:56,096 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:16:56] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:02,712 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:17:02,852 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:02] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,014 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:17:26,015 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:17:26,020 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:17:26,023 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:17:26,027 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:17:26,038 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:17:26,048 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:26,058 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:26,081 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:17:26,085 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:17:26,094 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:17:26,095 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:17:26,112 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,122 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:17:26,130 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:26,133 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:17:26,159 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:17:26,160 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:17:26,168 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:17:26,171 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:26,177 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:17:26,207 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:17:26,210 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,234 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:17:26,299 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:17:26,364 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:17:26,375 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:17:26,392 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:17:26,433 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:17:26,438 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:17:26,449 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:17:26,450 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,460 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,528 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:17:26,545 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:17:26,548 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:17:26,578 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:17:26,580 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:17:26,599 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:17:26,606 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:17:26,629 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:17:26,643 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:26,654 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\d5222g0d.json
2025-06-04 11:17:26,667 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\zk32fba8.json
2025-06-04 11:17:26,675 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:17:26,698 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:17:26,700 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:17:26,722 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=47052', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\d5222g0d.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\zk32fba8.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelc1i6zr9c\\prophet_model-20250604111726.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:17:26,727 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:26] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:17:26,763 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:17:26,767 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:17:26,899 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:17:26,946 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 11:17:26,965 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:17:27,227 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:17:27,280 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 11:17:27,294 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\gxektj1y.json
2025-06-04 11:17:27,298 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 11:17:27,308 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:27,311 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\rzkc3f6d.json
2025-06-04 11:17:27,324 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:17:27,327 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:17:27,329 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=54245', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\gxektj1y.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\rzkc3f6d.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelu0rj6b_2\\prophet_model-20250604111727.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:17:27,331 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:17:27,412 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:17:27,433 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:27,464 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:17:27,465 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 11:17:27,467 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 11:17:27,479 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:17:27,494 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:17:27,497 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:17:27,521 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 11:17:27,528 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 11:17:27,530 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 11:17:27,546 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:17:27,576 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:17:27,578 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:27,583 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 11:17:27,596 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:17:27,597 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:17:27,615 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:17:27,627 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:17:27,628 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 11:17:27,645 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:17:27,648 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:17:27,684 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 11:17:27,693 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 11:17:27,694 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 11:17:27,696 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:27,696 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:27,715 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 11:17:27,731 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:17:27,743 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 11:17:27,744 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 11:17:27,747 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:17:27,958 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 11:17:27,968 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:27] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:32,813 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:32] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:17:45,007 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:17:45,130 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:45] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:17:45,195 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:17:45,297 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:45] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 11:17:58,305 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:17:58] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-04 11:18:01,082 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:01] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-04 11:18:03,484 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:03] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 11:18:10,441 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:18:10,442 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 11:18:10,443 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 11:18:10
2025-06-04 11:18:10,455 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:10] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-04 11:18:12,654 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:18:12,655 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:18:12,655 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:18:12
2025-06-04 11:18:12,656 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:18:12,660 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:12] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:18:15,456 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:18:15,457 - __main__ - DEBUG - Parameters: filter=yesterday, start_date=None, end_date=None
2025-06-04 11:18:15,457 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-03 00:00:00, 2025-06-03 23:59:59
2025-06-04 11:18:15,458 - __main__ - WARNING - No data returned from query
2025-06-04 11:18:15,458 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:15] "GET /api/top-performers?filter=yesterday HTTP/1.1" 200 -
2025-06-04 11:18:17,462 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:18:17,463 - __main__ - DEBUG - Parameters: filter=this-week, start_date=None, end_date=None
2025-06-04 11:18:17,465 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-02 00:00:00, 2025-06-04 11:18:17
2025-06-04 11:18:17,469 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:17] "GET /api/top-performers?filter=this-week HTTP/1.1" 200 -
2025-06-04 11:18:20,372 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:18:20,372 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 11:18:20,373 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 11:18:20
2025-06-04 11:18:20,375 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:18:20] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-04 11:19:27,141 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:19:27,144 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:27,147 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:19:27,148 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:27,161 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:27,171 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,186 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:27,213 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,220 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:19:27,225 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,237 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:19:27,280 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,282 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:19:27,282 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:19:27,283 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:19:27,290 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:19:27,328 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:19:27,329 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:19:27,332 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,337 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,347 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:19:27,353 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:19:27,391 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:19:27,396 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:19:27,408 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:19:27,427 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:19:27,446 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:19:27,447 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:19:27,490 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:19:27,510 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,563 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:19:27,572 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,573 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:19:27,577 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:19:27,596 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:19:27,596 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:19:27,612 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,613 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:19:27,619 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:19:27,645 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:19:27,633 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:19:27,665 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,695 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:19:27,696 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:19:27,708 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:19:27,708 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\eyrkic9k.json
2025-06-04 11:19:27,728 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:19:27,729 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 11:19:27,823 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:19:27,808 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:19:27,803 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\9tgtldqn.json
2025-06-04 11:19:27,828 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:27,829 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\k8z6cwn3.json
2025-06-04 11:19:27,831 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:19:27,841 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 11:19:27,847 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:19:27,850 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:19:27,870 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=25691', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\eyrkic9k.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\9tgtldqn.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelhmhbdq03\\prophet_model-20250604111927.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:19:27,871 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\m1rk846y.json
2025-06-04 11:19:27,871 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:27,873 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 11:19:27,872 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:19:27,881 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:27,884 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,898 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:19:27,923 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:19:27,924 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:19:27,925 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 11:19:27,925 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=1648', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\k8z6cwn3.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\m1rk846y.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelq6nz_xzi\\prophet_model-20250604111927.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:19:27,933 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 11:19:27,939 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:27,939 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:27] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:27,940 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:27,939 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:19:27,996 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:19:28,078 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 11:19:28,082 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:28] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:28,428 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:28] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:45,474 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:19:45,647 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:45] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-10 HTTP/1.1" 200 -
2025-06-04 11:19:45,746 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:19:45,907 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:45] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-10&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:53,943 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:19:53,952 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:19:53,954 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:53,959 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:53,961 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:53,961 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:53,995 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:53] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,028 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,035 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,036 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:19:54,037 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:19:54,041 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:19:54,053 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:19:54,056 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,057 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:19:54,059 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:19:54,060 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,061 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:19:54,079 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:19:54,079 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:19:54,093 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:19:54,099 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:19:54,100 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:19:54,101 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:19:54,129 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,143 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:19:54,154 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:19:54,158 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,176 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:19:54,193 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:19:54,210 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:19:54,225 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:19:54,229 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:19:54,244 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:19:54,280 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:19:54,282 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,292 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:19:54,357 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:19:54,357 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:19:54,373 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,377 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:19:54,378 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:19:54,395 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:19:54,417 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:19:54,430 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:19:54,458 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 11:19:54,493 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:19:54,508 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\fphwuqes.json
2025-06-04 11:19:54,535 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 11:19:54,538 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:19:54,541 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:19:54,542 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\4s2y3quc.json
2025-06-04 11:19:54,544 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 11:19:54,556 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,547 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,554 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:19:54,571 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:19:54,588 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=35312', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\fphwuqes.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\4s2y3quc.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model8s8hhp40\\prophet_model-20250604111954.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:19:54,589 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:19:54,600 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:19:54,609 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 11:19:54,621 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 11:19:54,659 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:19:54,687 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 11:19:54,691 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:19:54,695 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:19:54,695 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 11:19:54,696 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:19:54,700 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 11:19:54,711 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:19:54,722 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 11:19:54,727 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:19:54,757 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:19:54,762 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 11:19:54,774 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:54,778 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 11:19:54,808 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 11:19:54,808 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:19:54,810 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,811 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:19:54,843 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:19:54,845 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:19:54,854 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 11:19:54,874 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:54,902 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:19:54,924 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\0v58m56z.json
2025-06-04 11:19:54,927 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 11:19:54,935 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:54] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:54,942 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:19:54,944 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\o2xv1hxz.json
2025-06-04 11:19:54,956 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:19:54,959 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:19:54,961 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=76616', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\0v58m56z.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\o2xv1hxz.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model7p4loc2q\\prophet_model-20250604111954.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:19:54,971 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:19:55,071 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 11:19:55,076 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:55] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:19:55,123 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 11:19:55,125 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:55] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 11:19:55,287 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:19:55] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:13,019 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:20:13,139 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:13] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:13,172 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:20:13,305 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:13] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,170 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:20:32,171 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:20:32,171 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:20:32,178 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:20:32,182 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:32,184 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:20:32,196 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:32,213 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:20:32,239 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:20:32,246 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:32,250 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:20:32,262 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:20:32,280 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:20:32,282 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:20:32,288 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:32,291 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,295 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:20:32,295 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:20:32,303 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:20:32,316 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:20:32,321 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:20:32,322 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:20:32,323 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:20:32,329 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,336 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:20:32,338 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:20:32,340 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,345 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:20:32,350 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:20:32,366 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:20:32,370 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:20:32,371 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:20:32,401 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:20:32,404 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:20:32,405 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:20:32,411 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,427 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:20:32,433 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,451 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:20:32,462 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:20:32,550 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:20:32,553 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:20:32,561 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:20:32,566 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:20:32,632 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-05-01
2025-06-04 11:20:32,633 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:20:32,651 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:20:32,687 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:20:32,687 - __main__ - DEBUG - Raw query results: [('Germany - Berlin', Decimal('20202000.00')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5050500.00'))]
2025-06-04 11:20:32,688 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:20:32,698 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,725 - __main__ - DEBUG - Response: {'regions': ['Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [20202000.0, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5050500.0]}
2025-06-04 11:20:32,740 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-region?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:32,795 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\7ausw72i.json
2025-06-04 11:20:32,806 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:20:32,807 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-funnel HTTP/1.1" 200 -
2025-06-04 11:20:32,815 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\7moo6uxc.json
2025-06-04 11:20:32,815 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 11:20:32,839 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 11:20:32,845 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:20:32,868 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:20:32,868 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:20:32,871 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 11:20:32,872 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:20:32,872 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=32927', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\7ausw72i.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\7moo6uxc.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelapi2ljo8\\prophet_model-20250604112032.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:20:32,873 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:20:32,878 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 11:20:32,887 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:20:32,886 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:20:32,952 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 11:20:32,961 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\r8bidywe.json
2025-06-04 11:20:32,963 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:20:32,972 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:20:32,973 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:20:32,972 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\8_b6hmib.json
2025-06-04 11:20:32,978 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:32] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 11:20:32,986 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:20:32,991 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:20:32,997 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=77878', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\r8bidywe.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\8_b6hmib.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelqpetmfn0\\prophet_model-20250604112032.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:20:33,006 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:20:33,012 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04, selected_date=None
2025-06-04 11:20:33,001 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:20:33,016 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:33,034 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:20:33,052 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:20:33,071 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('105919.82')), ('Furniture', Decimal('1299.97')), ('Apparel', Decimal('499.81'))]
2025-06-04 11:20:33,088 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:20:33,132 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Furniture', 'Apparel'], 'sales': [98.33, 1.21, 0.46]}
2025-06-04 11:20:33,139 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/sales-by-category?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:33,189 - __main__ - DEBUG - Response: {'periods': ['2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'growth_rates': [19.99, 16.65, 14.29, 12.49, 11.11, 10.0, 9.1, 8.33, 7.79, 7.05, 6.67, 6.25, 5.89, 5.56, 5.26, 103.99, -99.76], 'period_type': 'MS'}
2025-06-04 11:20:33,205 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04, period_type=MS, selected_date=None
2025-06-04 11:20:33,206 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/sales-growth-rate?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:33,269 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:20:33,371 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2024, 1, 1, 0, 0), 1, 4), (datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2024, 2, 1, 0, 0), 2, 4), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2024, 3, 1, 0, 0), 3, 4), (datetime.datetime(2025, 1, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2024, 4, 1, 0, 0), 4, 4), (datetime.datetime(2024, 5, 1, 0, 0), 5, 4), (datetime.datetime(2025, 2, 1, 0, 0), 5, 1), (datetime.datetime(2024, 6, 1, 0, 0), 6, 4), (datetime.datetime(2024, 7, 1, 0, 0), 7, 4), (datetime.datetime(2025, 3, 1, 0, 0), 7, 1), (datetime.datetime(2024, 8, 1, 0, 0), 8, 4), (datetime.datetime(2024, 9, 1, 0, 0), 9, 4), (datetime.datetime(2025, 4, 1, 0, 0), 9, 1), (datetime.datetime(2024, 10, 1, 0, 0), 10, 4), (datetime.datetime(2024, 11, 1, 0, 0), 11, 3), (datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2024, 12, 1, 0, 0), 12, 3), (datetime.datetime(2025, 1, 1, 0, 0), 13, 3), (datetime.datetime(2025, 2, 1, 0, 0), 14, 3), (datetime.datetime(2025, 3, 1, 0, 0), 15, 3), (datetime.datetime(2025, 4, 1, 0, 0), 16, 3), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2024, 1, 1, 0, 0), 505, 1), (datetime.datetime(2025, 3, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 4, 1, 0, 0), 999, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:20:33,430 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)', 'Samuel White (2025-07)', 'Frank Patel (2025-01)', 'Grace Liu (2025-01)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-04)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0, 19500000.0, 110000.0, 130000.0, 115000.0, 135000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0, 23232300.0, 0.0, 0.0, 20202000.0, 0.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12, 119.14, 0.0, 0.0, 17566.95652173913, 0.0]}
2025-06-04 11:20:33,531 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/sales-target-vs-achievement HTTP/1.1" 200 -
2025-06-04 11:20:33,731 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2024-01-01', '2024-02-01', '2024-03-01', '2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01', '2025-04-01', '2025-05-01', '2025-06-01'], 'repeat_sales': [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 299.99, 1999.98, 199.9, 499.99, 20000799.98, 100000.0], 'new_sales': [5051799.98, 6061599.99, 7070799.95, 8081299.99, 9091049.97, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 17171700.0, 18181800.0, 19193900.0, 20203000.0, 21212100.0, 0.0]}
2025-06-04 11:20:33,764 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/repeat-vs-new-sales?period_type=MS&start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:33,935 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:33] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:20:50,285 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:20:50,376 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:50] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:20:50,419 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:20:50,544 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:20:50] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-02-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,069 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET / HTTP/1.1" 200 -
2025-06-04 11:30:22,197 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 11:30:22,557 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:30:22,568 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:30:22,570 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:30:22,571 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:30:22,576 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:30:22,602 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:30:22,602 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:30:22,604 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:30:22,650 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:30:22,669 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:30:22,670 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:30:22,671 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:30:22,672 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:30:22,674 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:30:22,675 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:30:22,679 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:30:22,681 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,715 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:30:22,715 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,717 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:30:22,718 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:30:22,724 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:30:22,719 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,726 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:30:22,743 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:30:22,750 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:30:22,754 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:30:22,801 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:30:22,817 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:30:22,817 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:30:22,839 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,900 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:30:22,919 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:30:22,920 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,923 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:22,951 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:30:22,953 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:30:22,970 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:30:22,996 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:22] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:30:23,071 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:30:23,098 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:30:23,101 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:30:23,199 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:30:23,202 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:30:23,204 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:30:23,204 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,218 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:30:23,219 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:30:23,279 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:30:23,289 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:30:23,416 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:30:23,420 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:30:23,429 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:30:23,450 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:30:23,454 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,479 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:30:23,552 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\mjueayrb.json
2025-06-04 11:30:23,553 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:30:23,582 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\y2f87m66.json
2025-06-04 11:30:23,591 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:30:23,596 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:30:23,599 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=75452', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\mjueayrb.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\y2f87m66.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelndu1mf_q\\prophet_model-20250604113023.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:30:23,606 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:30:23,616 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:30:23,629 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:30:23,632 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:30:23,635 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:30:23,643 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,656 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:30:23,669 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,687 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:30:23,719 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:30:23,722 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:30:23,730 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:30:23,787 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:30:23,789 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:30:23,789 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:30:23,870 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:30:23,880 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,889 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:30:23,897 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:30:23,922 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:23] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:30:23,927 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:30:23,991 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:30:24,038 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:30:24,048 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:30:24
2025-06-04 11:30:24,068 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:30:24,080 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:24] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:30:24,089 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:30:24,120 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:24] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:30:24,183 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:24] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:30:24,271 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:30:24,299 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:24] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:24,452 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:30:24,479 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:24] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:30:32,661 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:32] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:30:39,453 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:30:39,519 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:30:39] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:56,005 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:56] "GET / HTTP/1.1" 200 -
2025-06-04 11:31:56,077 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:56] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 11:31:57,626 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:31:57,630 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:31:57,635 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:31:57,635 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:31:57,639 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:31:57,639 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:31:57,656 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:31:57,657 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:31:57,659 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:31:57,673 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:31:57,677 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:31:57,679 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:31:57,685 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:31:57,688 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:31:57,690 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:31:57,690 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:31:57,699 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:57,700 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:31:57,705 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:31:57,706 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:31:57,708 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:31:57,710 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:31:57,729 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:31:57,733 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:31:57,735 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:31:57,739 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:57,739 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:31:57,747 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:31:57,754 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:57,775 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:31:57,789 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:31:57,790 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:31:57,794 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:31:57,807 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:31:57,817 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:31:57,819 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:31:57,824 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:31:57,826 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:31:57,828 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:57,850 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:57] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:57,974 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:31:58,019 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:31:58,025 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:31:58,065 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:31:58,100 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:31:58,102 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:31:58,122 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:31:58,150 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:31:58,153 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:31:58,158 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:31:58
2025-06-04 11:31:58,240 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:31:58,255 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\tr_g6pru.json
2025-06-04 11:31:58,270 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\8138_md3.json
2025-06-04 11:31:58,305 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:31:58,306 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:31:58,306 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:31:58,311 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:31:58,311 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:31:58,317 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,325 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=62961', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\tr_g6pru.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\8138_md3.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelqs_8e1xm\\prophet_model-20250604113158.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:31:58,326 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:31:58,341 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:31:58,359 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:31:58,366 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:31:58,393 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:31:58,420 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,443 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:31:58,472 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:31:58,475 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:31:58,500 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,500 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:31:58,518 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,529 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:31:58,542 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:31:58,557 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:31:58,577 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:31:58,581 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:31:58,590 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:31:58,592 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,592 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:31:58,601 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:31:58,609 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:31:58,619 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,627 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:31:58,636 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:31:58,638 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:31:58,654 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:31:58,656 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:31:58,669 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:31:58,674 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:31:58,679 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:58,816 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:31:58,819 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:58] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:31:59,052 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:31:59,055 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:31:59] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:32:04,655 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:32:04] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:32:14,036 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:32:14,125 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:32:14] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:33:19,381 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:33:19] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 11:33:22,217 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:33:22,218 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 11:33:22,220 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 11:33:22
2025-06-04 11:33:22,243 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:33:22] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-04 11:42:29,187 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET / HTTP/1.1" 200 -
2025-06-04 11:42:29,254 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:42:29,569 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:42:29,580 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:42:29,588 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:42:29,591 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:42:29,603 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:42:29,603 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:42:29,619 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:42:29,664 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:42:29,669 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:42:29,671 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:42:29,674 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:42:29,685 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:42:29,690 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:42:29,706 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:42:29,716 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:42:29,758 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:42:29,763 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:42:29,765 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:29,767 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:42:29,770 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:42:29,770 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:42:29,771 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:42:29,774 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:29,794 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:42:29,796 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:42:29,806 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:42:29,809 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:42:29,826 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:42:29,870 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:42:29,888 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:42:29,917 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:42:29,919 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:42:29,932 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:29,932 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:29,959 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:42:29,995 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:42:29,999 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:29] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,001 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:42:30,003 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:42:30,018 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:42:30,023 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:42:30,029 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:42:30,070 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:42:30,077 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:42:30,079 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:42:30,080 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:42:30,136 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:42:30,163 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:42:30,185 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:42:30,232 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:42:30
2025-06-04 11:42:30,254 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:42:30,271 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:42:30,285 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,296 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:42:30,326 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:42:30,380 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:42:30,397 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\qtu5s874.json
2025-06-04 11:42:30,400 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,434 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:42:30,435 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:42:30,470 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\7s__p493.json
2025-06-04 11:42:30,498 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:42:30,501 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:42:30,502 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:42:30,510 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:42:30,518 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,519 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:42:30,519 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:42:30,551 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:42:30,560 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:42:30,560 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=55174', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\qtu5s874.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\7s__p493.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modelyp524v_0\\prophet_model-20250604114230.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:42:30,572 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:42:30,577 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:42:30,593 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,602 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:42:30,581 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:42:30,648 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:42:30,671 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:42:30,685 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:42:30,687 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:42:30,700 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:42:30,712 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:42:30,714 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,718 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:42:30,736 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,759 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:42:30,769 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:42:30,801 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:42:30,804 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:42:30,883 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:42:30,888 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,936 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:42:30,954 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:42:30,955 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:42:30,967 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:30] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:42:42,415 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:42] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:42:52,062 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:42:52,234 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:42:52] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:37,524 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET / HTTP/1.1" 200 -
2025-06-04 11:59:37,563 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 11:59:37,703 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 11:59:37,705 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:59:37,712 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 11:59:37,725 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:59:37,730 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 11:59:37,732 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:59:37,742 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:59:37,753 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 11:59:37,756 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:59:37,757 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 11:59:37,759 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 11:59:37,771 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:59:37,828 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:59:37,843 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 11:59:37,843 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 11:59:37,845 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 11:59:37,845 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 11:59:37,846 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 11:59:37,847 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:59:37,852 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:37,861 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 11:59:37,876 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:59:37,877 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:37,879 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 11:59:37,884 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:59:37,885 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 11:59:37,892 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:59:37,906 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 11:59:37,910 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 11:59:37,910 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 11:59:37,911 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:59:37,918 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:37,940 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 11:59:37,957 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:59:37,977 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:59:37,978 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 11:59:37,978 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:37,980 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 11:59:37,981 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:37] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,009 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 11:59:38,012 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 11:59:38,038 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 11:59:38,060 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 11:59:38,063 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 11:59:38,070 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 11:59:38,093 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 11:59:38,096 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 11:59:38,108 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 11:59:38,127 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 11:59:38
2025-06-04 11:59:38,128 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 11:59:38,184 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 11:59:38,289 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 11:59:38,290 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 11:59:38,347 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 11:59:38,357 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\2u58_lgr.json
2025-06-04 11:59:38,362 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,363 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 11:59:38,425 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:59:38,436 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,452 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:59:38,462 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\pmvrf7yn.json
2025-06-04 11:59:38,462 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 11:59:38,468 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 11:59:38,479 - cmdstanpy - DEBUG - idx 0
2025-06-04 11:59:38,484 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 11:59:38,491 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 11:59:38,503 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 11:59:38,504 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,507 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 11:59:38,507 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 11:59:38,509 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=31301', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\2u58_lgr.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\pmvrf7yn.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_model43zah9_t\\prophet_model-20250604115938.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 11:59:38,537 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 11:59:38,539 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 11:59:38,530 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 11:59:38,556 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 11:59:38,580 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,587 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 11:59:38,626 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 11:59:38,633 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 11:59:38,691 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,696 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 11:59:38,741 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 11:59:38,768 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 11:59:38,774 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 11:59:38,780 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 11:59:38,780 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 11:59:38,785 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,802 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 11:59:38,847 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 11:59:38,897 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 11:59:38,911 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,980 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 11:59:38,988 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:38] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 11:59:38,995 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 11:59:39,006 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:39] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 11:59:46,759 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:46] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 11:59:56,610 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 11:59:56,710 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 11:59:56] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:01:43,910 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:43] "[33mGET /api/sales-by-customeri HTTP/1.1[0m" 404 -
2025-06-04 12:01:43,968 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:43] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:01:54,155 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:54] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:01:57,063 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:57] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:01:59,842 - __main__ - DEBUG - Parameters: selected_date=None
2025-06-04 12:01:59,855 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: []
2025-06-04 12:01:59,876 - __main__ - DEBUG - Raw query results: [('Urban Traders', Decimal('23232549.99')), ('Benjamin Hall', Decimal('22222289.97')), ('Sophia White', Decimal('21212239.98')), ('Prime Supplies', Decimal('20202049.99')), ('Isabella Turner', Decimal('19192299.98')), ('Daniel Clark', Decimal('18183599.97')), ('Nova Enterprises', Decimal('17174099.96')), ('Olivia Martinez', Decimal('16161749.99')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6091599.99')), ('John Doe', Decimal('5101099.98')), ('Jane Smith', Decimal('5002000.00')), ('Evelyn Scott', Decimal('1249.95')), (None, Decimal('700.00'))]
2025-06-04 12:01:59,879 - __main__ - DEBUG - Response: {'customers': ['Urban Traders', 'Benjamin Hall', 'Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Evelyn Scott', 'Unknown'], 'revenues': [23232549.99, 22222289.97, 21212239.98, 20202049.99, 19192299.98, 18183599.97, 17174099.96, 16161749.99, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6091599.99, 5101099.98, 5002000.0, 1249.95, 700.0], 'cumulative_percentages': [8.04, 15.74, 23.08, 30.08, 36.72, 43.02, 48.96, 54.56, 59.81, 65.0, 69.9, 74.45, 78.65, 82.49, 85.99, 89.14, 91.94, 94.39, 96.5, 98.27, 100.0, 100.0, 100.0]}
2025-06-04 12:01:59,883 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:59] "GET /api/sales-by-customer HTTP/1.1" 200 -
2025-06-04 12:01:59,927 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:01:59] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:02:19,547 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:02:19,548 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:02:19,549 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:02:19,555 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:02:19,558 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:02:19,561 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:02:19] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:02:19,598 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:02:19] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:05:32,180 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:32] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:05:35,388 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:35] "GET / HTTP/1.1" 200 -
2025-06-04 12:05:35,469 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:35] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 12:05:36,594 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 12:05:36,596 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:05:36,600 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:05:36,602 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:05:36,612 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:05:36,620 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:05:36,629 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:05:36,631 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:05:36,643 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 12:05:36,643 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 12:05:36,644 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:05:36,644 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 12:05:36,663 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 12:05:36,665 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:05:36,687 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:05:36,692 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 12:05:36,694 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 12:05:36,712 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:05:36,713 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:05:36,714 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 12:05:36,714 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 12:05:36,715 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:36,716 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:05:36,720 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 12:05:36,726 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:36,734 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 12:05:36,739 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:05:36,764 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 12:05:36,764 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:05:36,774 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 12:05:36,778 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 12:05:36,779 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:36,782 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:05:36,791 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:36,831 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:05:36,849 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 12:05:36,863 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 12:05:36,864 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 12:05:36,874 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 12:05:36,878 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 12:05:36,883 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 12:05:36,896 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 12:05:36,915 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:36,947 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 12:05:36,954 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:36] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 12:05:37,025 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 12:05:37,026 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 12:05:37,029 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 12:05:37,032 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 12:05:37,059 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 12:05:37,081 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 12:05:37
2025-06-04 12:05:37,087 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,161 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 12:05:37,210 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 12:05:37,214 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\a2n86y9e.json
2025-06-04 12:05:37,215 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 12:05:37,223 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:05:37,229 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 12:05:37,232 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpra7bolyn\og5g3hqs.json
2025-06-04 12:05:37,277 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:05:37,279 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 12:05:37,279 - cmdstanpy - DEBUG - idx 0
2025-06-04 12:05:37,296 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:05:37,297 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,297 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 12:05:37,307 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 12:05:37,314 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=66327', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\a2n86y9e.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\og5g3hqs.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpra7bolyn\\prophet_modeladtv00me\\prophet_model-20250604120537.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 12:05:37,329 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,332 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 12:05:37,348 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:05:37,345 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 12:05:37,372 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:05:37,425 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:05:37,431 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:05:37,466 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 12:05:37,484 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,493 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:05:37,562 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:05:37,575 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,578 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 12:05:37,591 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 12:05:37,598 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 12:05:37,599 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:05:37,615 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 12:05:37,615 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 12:05:37,615 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 12:05:37,626 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,632 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 12:05:37,647 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:37,709 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:05:37,716 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:05:37,724 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 12:05:37,726 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:05:37,729 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:05:37,774 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:05:37,779 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:05:37,781 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:05:37,898 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 12:05:37,915 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:37] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:38,082 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 12:05:38,090 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:38] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:05:47,778 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:47] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:05:55,105 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 12:05:57,258 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:05:57] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:07:19,437 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 12:07:19,438 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 12:07:19,441 - werkzeug - INFO -  * Restarting with stat
2025-06-04 12:07:22,178 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 12:07:22,184 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 12:08:34,659 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:34] "GET / HTTP/1.1" 200 -
2025-06-04 12:08:34,901 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:34] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 12:08:36,009 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 12:08:36,015 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:08:36,024 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:08:36,025 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:08:36,285 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:08:36,287 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:08:36,314 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:08:36,318 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:08:36,333 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:08:36,339 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 12:08:36,342 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 12:08:36,375 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 12:08:36,384 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:08:36,390 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 12:08:36,400 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 12:08:36,406 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:08:36,423 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 12:08:36,429 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:08:36,432 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:08:36,435 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:08:36,452 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,453 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 12:08:36,455 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:08:36,471 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:08:36,475 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,485 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 12:08:36,494 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:08:36,504 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,509 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 12:08:36,575 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 12:08:36,631 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 12:08:36,634 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,635 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 12:08:36,639 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 12:08:36,669 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 12:08:36,675 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 12:08:36,696 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:08:36,700 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 12:08:36,708 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 12:08:36,728 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 12:08:36,729 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 12:08:36,756 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 12:08:36,759 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 12:08:36,770 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 12:08:36,789 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,800 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 12:08:36,804 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 12:08:36,822 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 12:08:36,828 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 12:08:36
2025-06-04 12:08:36,873 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 12:08:36,917 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 12:08:36,922 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 12:08:36,938 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:36,941 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 12:08:36,957 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 12:08:36,983 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:08:36,988 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:08:36,998 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:36] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,003 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 12:08:37,007 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:08:37,025 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 12:08:37,038 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:08:37,039 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,039 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:08:37,042 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 12:08:37,047 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:08:37,090 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:08:37,104 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 12:08:37,104 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpst6_fnnn\_z2an6w5.json
2025-06-04 12:08:37,114 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:08:37,131 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 12:08:37,132 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpst6_fnnn\rj4zg9sx.json
2025-06-04 12:08:37,140 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:08:37,153 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,169 - cmdstanpy - DEBUG - idx 0
2025-06-04 12:08:37,171 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,203 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 12:08:37,254 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=53177', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpst6_fnnn\\_z2an6w5.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpst6_fnnn\\rj4zg9sx.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpst6_fnnn\\prophet_modeljf9tt0g3\\prophet_model-20250604120837.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 12:08:37,255 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 12:08:37,256 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:08:37,290 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 12:08:37,290 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 12:08:37,272 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 12:08:37,319 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 12:08:37,338 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 12:08:37,409 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 12:08:37,437 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 12:08:37,455 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,458 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 12:08:37,508 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,540 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 12:08:37,557 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:08:37,594 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:08:37,619 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:08:37,641 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:08:37,668 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:08:37,815 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:08:37,844 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:08:37,856 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:37] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:08:38,004 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 12:08:38,007 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:38] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:08:42,771 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:42] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 12:08:46,420 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:46] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:08:56,298 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 12:08:56,362 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:08:56] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:01,310 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 12:10:01,311 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 12:10:01,313 - werkzeug - INFO -  * Restarting with stat
2025-06-04 12:10:04,006 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 12:10:04,012 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 12:10:06,345 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:06] "GET / HTTP/1.1" 200 -
2025-06-04 12:10:06,436 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:06] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 12:10:06,996 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:06] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 12:10:07,078 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 12:10:07,080 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:10:07,081 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:10:07,083 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:10:07,090 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:10:07,090 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:10:07,094 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:10:07,095 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:10:07,097 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 12:10:07,108 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:10:07,108 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 12:10:07,113 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 12:10:07,118 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,122 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:10:07,123 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 12:10:07,126 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:10:07,136 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:10:07,136 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 12:10:07,136 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 12:10:07,138 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:10:07,144 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:10:07,146 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 12:10:07,160 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 12:10:07,163 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:10:07,165 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,178 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 12:10:07,189 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,190 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:10:07,202 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 12:10:07,205 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 12:10:07,212 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:10:07,216 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 12:10:07,223 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,243 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 12:10:07,252 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 12:10:07,273 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 12:10:07,277 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,278 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 12:10:07,283 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 12:10:07,290 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 12:10:07,326 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:10:07,326 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 12:10:07,373 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 12:10:07,381 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,433 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 12:10:07,441 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 12:10:07,442 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 12:10:07,444 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 12:10:07
2025-06-04 12:10:07,446 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 12:10:07,460 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 12:10:07,476 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 12:10:07,493 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 12:10:07,521 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 12:10:07,526 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 12:10:07,544 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:10:07,573 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 12:10:07,594 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 12:10:07,595 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,632 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:10:07,660 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,676 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:10:07,683 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 12:10:07,684 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:10:07,696 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 12:10:07,702 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:10:07,706 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,709 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:10:07,713 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 12:10:07,717 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:10:07,720 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:10:07,775 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 12:10:07,778 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:10:07,779 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpf2fhi_gr\xl9r2w7_.json
2025-06-04 12:10:07,796 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,796 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:10:07,799 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 12:10:07,817 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpf2fhi_gr\c4ivqtvh.json
2025-06-04 12:10:07,880 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 12:10:07,889 - cmdstanpy - DEBUG - idx 0
2025-06-04 12:10:07,892 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 12:10:07,895 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 12:10:07,912 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 12:10:07,914 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=51844', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\xl9r2w7_.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\c4ivqtvh.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\prophet_model5ij3ay9a\\prophet_model-20250604121007.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 12:10:07,923 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 12:10:07,940 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 12:10:07,946 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:07] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:07,932 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 12:10:08,026 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 12:10:08,037 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 12:10:08,060 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:08] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:08,072 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:10:08,074 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:08] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:10:08,104 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:10:08,125 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 12:10:08,147 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:08] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:10:08,150 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:10:08,127 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:08] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:10:08,178 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:10:08,192 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:10:08,201 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:08] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:10:15,307 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:15] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:10:25,339 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 12:10:25,486 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:10:25] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:11:46,211 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:11:46,221 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:11:46,246 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:11:46,312 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:11:46,317 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:11:46,326 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:11:46] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:11:46,424 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:11:46] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 12:56:32,897 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:32] "GET / HTTP/1.1" 200 -
2025-06-04 12:56:32,964 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:32] "GET /static/js/chart.js HTTP/1.1" 200 -
2025-06-04 12:56:38,009 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 12:56:38,019 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:56:38,032 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:56:38,036 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:56:38,038 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 12:56:38,046 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 12:56:38,055 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:56:38,056 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:56:38,068 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:56:38,138 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:56:38,139 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:56:38,141 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 12:56:38,144 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:56:38,149 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:56:38,153 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 12:56:38,194 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 12:56:38,270 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 12:56:38,307 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 12:56:38,328 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:56:38,329 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:56:38,364 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:56:38,425 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 12:56:38,431 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:56:38,438 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:56:38,438 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 12:56:38,440 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:38,469 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:56:38,493 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 12:56:38,558 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 12:56:38,576 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 12:56:38,579 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:38,582 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:56:38,592 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 12:56:38,623 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:56:38,611 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 12:56:38,656 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:38,658 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:56:38,660 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 12:56:38,743 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 12:56:38,785 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 12:56:38,786 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 12:56:38,789 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:38,811 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 12:56:38,811 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 12:56:38,839 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 12:56:38,845 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 12:56:38,873 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:38] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:38,882 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 12:56:38,982 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 12:56:39,000 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 12:56:39,002 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 12:56:39,011 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 12:56:39,057 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 12:56:39,058 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 12:56:39,061 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,061 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 12:56:39,069 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 12:56:39,193 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 12:56:39,223 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 12:56:39
2025-06-04 12:56:39,243 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:56:39,360 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 12:56:39,362 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 12:56:39,407 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 12:56:39,408 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 12:56:39,409 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpf2fhi_gr\zuc92jjl.json
2025-06-04 12:56:39,424 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,476 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 12:56:39,478 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpf2fhi_gr\ih7qte0m.json
2025-06-04 12:56:39,537 - cmdstanpy - DEBUG - idx 0
2025-06-04 12:56:39,544 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 12:56:39,545 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,539 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:56:39,575 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=98181', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\zuc92jjl.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\ih7qte0m.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpf2fhi_gr\\prophet_modelecca3fog\\prophet_model-20250604125639.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 12:56:39,578 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 12:56:39,609 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 12:56:39,628 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 12:56:39,643 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 12:56:39,644 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 12:56:39,676 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 12:56:39,677 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 12:56:39,687 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 12:56:39,719 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 12:56:39,726 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,727 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 12:56:39,739 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,741 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 12:56:39,742 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 12:56:39,753 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 12:56:39,765 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 12:56:39,757 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,773 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 12:56:39,778 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 12:56:39,791 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 12:56:39,793 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 12:56:39,794 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:39,870 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 12:56:39,945 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 12:56:39,958 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:39] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:40,169 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 12:56:40,174 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:40] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 12:56:47,159 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:47] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 12:56:56,500 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 12:56:56,764 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:56:56] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 12:57:03,287 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 12:57:03,287 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 12:57:03,288 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 12:57:03
2025-06-04 12:57:03,324 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 12:57:03] "GET /api/top-performers HTTP/1.1" 200 -
2025-06-04 14:39:37,772 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 14:39:37,773 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 14:39:37,779 - werkzeug - INFO -  * Restarting with stat
2025-06-04 14:39:41,584 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 14:39:41,595 - werkzeug - INFO -  * Debugger PIN: 110-598-840
2025-06-04 14:43:09,963 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:09] "GET / HTTP/1.1" 200 -
2025-06-04 14:43:10,289 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:10] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 14:43:11,571 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 14:43:11,573 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 14:43:11,574 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:43:11,581 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 14:43:11,892 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 14:43:11,893 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 14:43:11,977 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:11] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:43:11,983 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 14:43:11,991 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:11] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:43:11,992 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:11] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:43:11,999 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:11] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 14:43:12,042 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 14:43:12,075 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 14:43:12,078 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:43:12,092 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 14:43:12,115 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 14:43:12,125 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:43:12,126 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,130 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:43:12,153 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:43:12,166 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 14:43:12,172 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 14:43:12,182 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:43:12,161 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 14:43:12,193 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 14:43:12,207 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:43:12,224 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,225 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,230 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 14:43:12,235 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 14:43:12,296 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 14:43:12,300 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 14:43:12,302 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,309 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 14:43:12,312 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 14:43:12,341 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 14:43:12,344 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 14:43:12,345 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 14:43:12,350 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 14:43:12,450 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 14:43:12,450 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 14:43:12,465 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,488 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 14:43:12,494 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 14:43:12,572 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 14:43:12,576 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 14:43:12,609 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 14:43:12
2025-06-04 14:43:12,633 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 14:43:12,647 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 14:43:12,653 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,660 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 14:43:12,680 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 14:43:12,709 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 14:43:12,723 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 14:43:12,734 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,737 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 14:43:12,781 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 14:43:12,783 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 14:43:12,797 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 14:43:12,805 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:43:12,807 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,809 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 14:43:12,812 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 14:43:12,814 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 14:43:12,841 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:43:12,864 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 14:43:12,887 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:43:12,890 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 14:43:12,892 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,900 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 14:43:12,916 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:43:12,979 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:12] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:12,980 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 14:43:13,007 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 14:43:13,043 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 14:43:13,060 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 14:43:13,016 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:43:13,062 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 14:43:13,096 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 14:43:13,103 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:13,119 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 14:43:13,188 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 14:43:13,205 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:13,206 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 14:43:13,244 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:43:13,283 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 14:43:13,287 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:13,309 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:43:13,310 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:43:13,403 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 14:43:13,403 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:43:13,428 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:43:13,441 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:43:13,471 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:13] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 14:43:13,564 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 14:43:13,641 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp3zi1xrdr\n2y0k47w.json
2025-06-04 14:43:13,707 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp3zi1xrdr\p1mg8c84.json
2025-06-04 14:43:13,717 - cmdstanpy - DEBUG - idx 0
2025-06-04 14:43:13,736 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 14:43:13,740 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=28723', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\n2y0k47w.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\p1mg8c84.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\prophet_modelvrb8bmoc\\prophet_model-20250604144313.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 14:43:13,745 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 14:43:24,308 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:24] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:43:36,480 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 14:43:36,591 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:43:36] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:44:24,064 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:44:24] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-04 14:44:26,457 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:44:26] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 14:44:29,448 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:44:29] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-04 14:44:32,288 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:44:32] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 14:44:34,778 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 14:44:34,780 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-04 14:44:34,781 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-04 14:44:34
2025-06-04 14:44:34,807 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:44:34] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-04 14:57:53,092 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:53] "GET / HTTP/1.1" 200 -
2025-06-04 14:57:53,311 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:53] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 14:57:56,181 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 14:57:56,194 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 14:57:56,248 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:57:56,254 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 14:57:56,264 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:57:56,266 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:57:56,301 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:57:56,302 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 14:57:56,306 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 14:57:56,471 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:57:56,523 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:57:56,526 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:57:56,532 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 14:57:56,556 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:57:56,560 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 14:57:56,619 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 14:57:56,645 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:57:56,646 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 14:57:56,726 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 14:57:56] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 14:57:56,727 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 14:57:56,729 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 14:57:56,760 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:56,791 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:57:56,906 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 14:57:56,913 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 14:57:56,949 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 14:57:56,962 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:57:56,964 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:56] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:56,965 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 14:57:57,015 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:57:57,029 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 14:57:57,100 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 14:57:57,114 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:57:57,182 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:57:57,182 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 14:57:57,208 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:57:57,247 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 14:57:57,262 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:57,294 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 14:57:57,300 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 14:57:57,353 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:57,367 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 14:57:57,420 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 14:57:57,449 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 14:57:57,480 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 14:57:57,538 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:57,551 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 14:57:57,597 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 14:57:57,680 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 14:57:57,683 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 14:57:57,713 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 14:57:57,720 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 14:57:57
2025-06-04 14:57:57,736 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 14:57:57,741 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 14:57:57,825 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 14:57:57,826 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 14:57:57,915 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 14:57:57,963 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 14:57:57,996 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:57] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 14:57:58,148 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 14:57:59,040 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 14:57:59,049 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 14:57:59,098 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:59] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:59,125 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:59] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:57:59,231 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 14:57:59,320 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 14:57:59,349 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 14:57:59,374 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 14:57:59,377 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 14:57:59,416 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 14:57:59,428 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:59] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:57:59,479 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 14:57:59,644 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:59] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 14:57:59,676 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 14:57:59,826 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp3zi1xrdr\dpt76b5f.json
2025-06-04 14:57:59,846 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 14:57:59,880 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 14:57:59,981 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 14:57:59,997 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:57:59] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:58:00,098 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 14:58:00,115 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp3zi1xrdr\yh_030tp.json
2025-06-04 14:58:00,136 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 14:58:00,278 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 14:58:00,319 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 14:58:00,473 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 14:58:00,493 - cmdstanpy - DEBUG - idx 0
2025-06-04 14:58:00,531 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 14:58:00,541 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 14:58:00,608 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 14:58:00,622 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=10734', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\dpt76b5f.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\yh_030tp.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp3zi1xrdr\\prophet_model2snq7kqr\\prophet_model-20250604145800.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 14:58:00,644 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 14:58:00,710 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 14:58:00,864 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 14:58:00,866 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:00] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:58:00,781 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 14:58:00,983 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:00] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:58:01,063 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 14:58:01,139 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:01] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:58:01,421 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 14:58:01,460 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:01] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 14:58:08,688 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:08] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-04 14:58:21,960 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:21] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 14:58:38,839 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 14:58:39,075 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 14:58:39] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:38,311 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 15:20:38,316 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 15:20:38,323 - werkzeug - INFO -  * Restarting with stat
2025-06-04 15:20:43,538 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 15:20:43,575 - werkzeug - INFO -  * Debugger PIN: 353-286-812
2025-06-04 15:20:44,157 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:44] "GET / HTTP/1.1" 200 -
2025-06-04 15:20:44,593 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:44] "[36mGET /static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 15:20:48,643 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 15:20:48,645 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 15:20:48,653 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 15:20:48,653 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 15:20:48,791 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 15:20:48,801 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 15:20:49,326 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 15:20:49,326 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 15:20:49,328 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 15:20:49,392 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 15:20:49,396 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 15:20:49,408 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 15:20:49,409 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 15:20:49,418 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 15:20:49,419 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 15:20:49,430 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 15:20:49,435 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 15:20:49,456 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 15:20:49,493 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 15:20:49,501 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 15:20:49,506 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 15:20:49,507 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:49,508 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 15:20:49,543 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 15:20:49,546 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 15:20:49,560 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 15:20:49,568 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 15:20:49,570 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 15:20:49,574 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 15:20:49,622 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 15:20:49,624 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:49,644 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 15:20:49,654 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 15:20:49,656 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:49,667 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 15:20:49,668 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 15:20:49,672 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 15:20:49,695 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 15:20:49,719 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 15:20:49,737 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 15:20:49,737 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 15:20:49,768 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:49,794 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 15:20:49,808 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 15:20:49,851 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 15:20:49,884 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 15:20:49,906 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 15:20:49,910 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:49,976 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 15:20:49,986 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:49] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 15:20:50,138 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 15:20:50,142 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 15:20:50,144 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 15:20:50,187 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 15:20:50
2025-06-04 15:20:50,424 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 15:20:50,507 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 15:20:50,519 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 15:20:50,521 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:50,657 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 15:20:50,685 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 15:20:50,690 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 15:20:50,727 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 15:20:50,739 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 15:20:50,743 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 15:20:50,751 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 15:20:50,822 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 15:20:50,853 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 15:20:50,854 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 15:20:50,855 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:50,869 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 15:20:50,872 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 15:20:50,908 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 15:20:50,920 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 15:20:50,922 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:50] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,055 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,060 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 15:20:51,069 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 15:20:51,076 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 15:20:51,110 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 15:20:51,142 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 15:20:51,185 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 15:20:51,208 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 15:20:51,211 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 15:20:51,225 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,226 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 15:20:51,226 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 15:20:51,339 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 15:20:51,422 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 15:20:51,427 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,467 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 15:20:51,467 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 15:20:51,478 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,610 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 15:20:51,668 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:20:51] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 15:20:51,839 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 15:20:52,037 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpgw96nzx0\7ewxhe0k.json
2025-06-04 15:20:52,075 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpgw96nzx0\0szjv25f.json
2025-06-04 15:20:52,130 - cmdstanpy - DEBUG - idx 0
2025-06-04 15:20:52,153 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 15:20:52,157 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=42187', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpgw96nzx0\\7ewxhe0k.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpgw96nzx0\\0szjv25f.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpgw96nzx0\\prophet_modelqdqg0dsf\\prophet_model-20250604152052.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 15:20:52,184 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 15:21:12,642 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:21:12] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 15:21:32,172 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 15:21:32,523 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 15:21:32] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:03,153 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.34:5001
2025-06-04 17:24:03,154 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-04 17:24:03,156 - werkzeug - INFO -  * Restarting with stat
2025-06-04 17:24:05,693 - werkzeug - WARNING -  * Debugger is active!
2025-06-04 17:24:05,703 - werkzeug - INFO -  * Debugger PIN: 353-286-812
2025-06-04 17:24:09,933 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:09] "GET / HTTP/1.1" 200 -
2025-06-04 17:24:10,054 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:10] "GET /dashboard/static/js/chart.js HTTP/1.1" 200 -
2025-06-04 17:24:17,312 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:24:17,315 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:24:17,320 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 17:24:17,322 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:24:17,332 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:24:17,333 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:24:17,540 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:24:17,541 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:24:17,542 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:24:17,609 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 17:24:17,610 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 17:24:17,610 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:24:17,610 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:24:17,610 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:24:17,610 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:24:17,624 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 17:24:17,630 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:24:17,633 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:24:17,645 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 17:24:17,655 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 17:24:17,657 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:24:17,657 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:17,658 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 17:24:17,661 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:24:17,661 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 17:24:17,665 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:24:17,667 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:24:17,678 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:24:17,681 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 17:24:17,683 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 17:24:17,693 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 17:24:17,694 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:17,695 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:24:17,699 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 17:24:17,719 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:17,723 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 17:24:17,724 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:24:17,729 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 17:24:17,738 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 17:24:17,753 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:24:17,766 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:17,782 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 17:24:17,848 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 17:24:17,850 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 17:24:17,850 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 17:24:17,858 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 17:24:17,860 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 17:24:17,885 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 17:24:17,915 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 17:24:17,941 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 17:24:17,969 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:17] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,009 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 17:24:18,010 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,018 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 17:24:18,025 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 17:24:18,039 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 17:24:18
2025-06-04 17:24:18,055 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 17:24:18,077 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 17:24:18,077 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 17:24:18,116 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 17:24:18,124 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:24:18,141 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,170 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:24:18,175 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 17:24:18,175 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:24:18,177 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-04 17:24:18,202 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 17:24:18,208 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 17:24:18,218 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,221 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 17:24:18,222 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\vtly5idp.json
2025-06-04 17:24:18,226 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:24:18,236 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 17:24:18,244 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:24:18,248 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:24:18,250 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,251 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\fkesutnl.json
2025-06-04 17:24:18,260 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:24:18,262 - cmdstanpy - DEBUG - idx 0
2025-06-04 17:24:18,269 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:24:18,274 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 17:24:18,274 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 17:24:18,289 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=78356', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\vtly5idp.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\fkesutnl.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\prophet_model1_vajyb4\\prophet_model-20250604172418.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 17:24:18,289 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:24:18,294 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 17:24:18,294 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 17:24:18,292 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 17:24:18,306 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:24:18,307 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,310 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,339 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 17:24:18,343 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 17:24:18,343 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 17:24:18,347 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 17:24:18,371 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 17:24:18,375 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,378 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 17:24:18,407 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 17:24:18,410 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:18,427 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 17:24:18,440 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:18] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:24:25,758 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:25] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:24:26,393 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:26] "GET /api/recent-activity?filter=yesterday HTTP/1.1" 200 -
2025-06-04 17:24:28,518 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:28] "GET /api/recent-activity?filter=this-week HTTP/1.1" 200 -
2025-06-04 17:24:34,531 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 17:24:34,593 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:24:34] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:36,731 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:36] "GET / HTTP/1.1" 200 -
2025-06-04 17:27:38,132 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:38] "[36mGET /dashboard/static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 17:27:39,269 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:27:39,381 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:27:39,872 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 17:27:40,206 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:27:40,747 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:27:40,850 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:27:42,246 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:27:42,246 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:27:42,264 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:27:44,064 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:44] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:27:44,383 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:27:44,398 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:44] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:27:44,647 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:44] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:27:45,010 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:27:45,179 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:45] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 17:27:45,323 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 17:27:45] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 17:27:45,327 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 17:27:45,431 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 17:27:45,583 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:27:45,615 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 17:27:45,658 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 17:27:45,698 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 17:27:45,733 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:45] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:27:45,747 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 17:27:45,871 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:27:45,901 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:27:45,914 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:27:45,944 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:27:45,952 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:45] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:45,964 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:27:45,965 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:45] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:46,083 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 17:27:46,098 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 17:27:46,112 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:27:46,228 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 17:27:46,233 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 17:27:46,267 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 17:27:46,269 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 17:27:46,281 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 17:27:46,294 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:46,300 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 17:27:46,327 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 17:27:46,329 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:46,334 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:27:46,347 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 17:27:46,472 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 17:27:46,496 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 17:27:46,512 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 17:27:46,561 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 17:27:46
2025-06-04 17:27:46,611 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 17:27:46,612 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 17:27:46,665 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 17:27:46,695 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\jsqg4u1d.json
2025-06-04 17:27:46,715 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 17:27:46,729 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 17:27:46,746 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:46,748 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 17:27:46,757 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 17:27:46,849 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 17:27:46,878 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 17:27:46,880 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:27:46,905 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:46] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 17:27:47,082 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 17:27:47,107 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 17:27:47,133 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,292 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,296 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:27:47,358 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\t1clr3cj.json
2025-06-04 17:27:47,380 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 17:27:47,381 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:27:47,409 - cmdstanpy - DEBUG - idx 0
2025-06-04 17:27:47,389 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:27:47,413 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,414 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 17:27:47,427 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:27:47,428 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 17:27:47,444 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=13630', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\jsqg4u1d.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\t1clr3cj.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\prophet_modelluxxsk8k\\prophet_model-20250604172747.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 17:27:47,460 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:27:47,486 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:27:47,492 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 17:27:47,482 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 17:27:47,525 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:27:47,529 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,535 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:27:47,580 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:27:47,611 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,613 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 17:27:47,640 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 17:27:47,677 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 17:27:47,692 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 17:27:47,733 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 17:27:47,763 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 17:27:47,799 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 17:27:47,825 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,875 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 17:27:47,898 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 17:27:47,911 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,917 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 17:27:47,933 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:27:47,955 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 17:27:47,982 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:27:47] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:28:15,992 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:28:15] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:28:20,917 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 17:28:21,087 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:28:21] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:42,061 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:42] "GET / HTTP/1.1" 200 -
2025-06-04 17:31:42,110 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:42] "[36mGET /dashboard/static/js/chart.js HTTP/1.1[0m" 304 -
2025-06-04 17:31:44,275 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-04 17:31:44,277 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:31:44,281 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:31:44,284 - __main__ - DEBUG - Parameters: start_date=2023-06-04, end_date=2025-06-04
2025-06-04 17:31:44,293 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:31:44,294 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:31:44,311 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:31:44,311 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-04', '2025-06-04']
2025-06-04 17:31:44,313 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:31:44,423 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:31:44,425 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-funnel?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:31:44,430 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-orders-unique-customers?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:31:44,431 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/recent-activity?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:31:44,445 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:31:44,448 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-04 17:31:44,452 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-04 17:31:44,462 - werkzeug - INFO - 192.168.1.34 - - [04/Jun/2025 17:31:44] "GET /api/sales-by-salesperson HTTP/1.1" 200 -
2025-06-04 17:31:44,484 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-04 17:31:44,494 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-by-salesperson?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:31:44,530 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:44,549 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-04 17:31:44,579 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:31:44,607 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:31:44,619 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-04 17:31:44,624 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:31:44,628 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-04 17:31:44,646 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-04 17:31:44,647 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:31:44,700 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-04 17:31:44,703 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-04 17:31:44,742 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-04 17:31:44,747 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:44,761 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:31:44,796 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:31:44,814 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-04 17:31:44,817 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:44,818 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-04 17:31:44,851 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-04 17:31:44,852 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:31:44,863 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-04 17:31:44,926 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:44] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:44,951 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-04 17:31:44,994 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-04 17:31:45,001 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-04 17:31:45,025 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-04 17:31:45,037 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-04 17:31:45,052 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-04 17:31:45,063 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-04 17:31:45,095 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-04 17:31:45,126 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-04 17:31:45,141 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,211 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-04 17:31:45,349 - __main__ - DEBUG - Starting /api/top-performers
2025-06-04 17:31:45,445 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-04 17:31:45,449 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\otvfv89z.json
2025-06-04 17:31:45,450 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-04 17:31:45,454 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-04 17:31:45,496 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-04 00:00:00, 2025-06-04 17:31:45
2025-06-04 17:31:45,497 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpqo3q3o6o\9dfajo4f.json
2025-06-04 17:31:45,535 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,538 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-04 17:31:45,541 - cmdstanpy - DEBUG - idx 0
2025-06-04 17:31:45,545 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-04 17:31:45,548 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=70779', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\otvfv89z.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\9dfajo4f.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpqo3q3o6o\\prophet_modelod8cpy5z\\prophet_model-20250604173145.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-04 17:31:45,556 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-04 17:31:45,561 - cmdstanpy - INFO - Chain [1] start processing
2025-06-04 17:31:45,567 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:31:45,570 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-04 17:31:45,598 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-04 17:31:45,624 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-04 17:31:45,636 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,661 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/regions HTTP/1.1" 200 -
2025-06-04 17:31:45,750 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-04 17:31:45,768 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-04 17:31:45,782 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-04 17:31:45,799 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,823 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:31:45,844 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,847 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-04 17:31:45,883 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-04 17:31:45,889 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-04 17:31:45,892 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-04 17:31:45,904 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-04 17:31:45,905 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-04 17:31:45,955 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-04 17:31:45,964 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:45] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:45,983 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-04 17:31:46,027 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-04 17:31:46,078 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-04 17:31:46,091 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-04 17:31:46,092 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-04 17:31:46,103 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-04 17:31:46,103 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-04 17:31:46,115 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:46] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:46,126 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-04 17:31:46,127 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-04 17:31:46,132 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:46] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:46,136 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:46] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:46,153 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:46] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-04 17:31:46,587 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-04 17:31:46,598 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:46] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-04 17:31:47,536 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:31:47] "GET /api/summary-metrics?start_date=2023-06-04&end_date=2025-06-04 HTTP/1.1" 200 -
2025-06-04 17:32:05,601 - cmdstanpy - INFO - Chain [1] done processing
2025-06-04 17:32:05,819 - werkzeug - INFO - 127.0.0.1 - - [04/Jun/2025 17:32:05] "GET /api/sales-trend?period_type=MS&start_date=2023-06-04&end_date=2025-06-04&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:06:50,205 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.35:5001
2025-06-05 09:06:50,206 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-05 09:06:50,214 - werkzeug - INFO -  * Restarting with stat
2025-06-05 09:06:55,870 - werkzeug - WARNING -  * Debugger is active!
2025-06-05 09:06:55,882 - werkzeug - INFO -  * Debugger PIN: 353-286-812
2025-06-05 09:07:07,551 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:07] "GET / HTTP/1.1" 200 -
2025-06-05 09:07:07,819 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:07] "GET /dashboard/static/js/chart.js HTTP/1.1" 200 -
2025-06-05 09:07:09,096 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-05 09:07:09,115 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 09:07:09,158 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 09:07:09,161 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 09:07:09,419 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-05', '2025-06-05']
2025-06-05 09:07:09,420 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-05', '2025-06-05']
2025-06-05 09:07:09,483 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-funnel?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 09:07:09,485 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/recent-activity?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 09:07:09,485 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-orders-unique-customers?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 09:07:09,492 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-05 09:07:09,494 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-05 09:07:09,506 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-05 09:07:09,530 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-05 09:07:09,536 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-by-salesperson?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 09:07:09,537 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-05 09:07:09,538 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 09:07:09,549 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 09:07:09,555 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 09:07:09,562 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-05 09:07:09,566 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,566 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 09:07:09,575 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-05 09:07:09,580 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 09:07:09,583 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-05 09:07:09,585 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,587 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 09:07:09,597 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 09:07:09,599 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,615 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-05 09:07:09,629 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-05 09:07:09,630 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 09:07:09,646 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-05 09:07:09,646 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-05 09:07:09,691 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-05 09:07:09,695 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-05 09:07:09,706 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-05 09:07:09,707 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-05 09:07:09,747 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-05 09:07:09,772 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-05 09:07:09,773 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,835 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-05 09:07:09,862 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-05 09:07:09,863 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-05 09:07:09,869 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,873 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:09,881 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-05 09:07:09,907 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:09] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-05 09:07:09,917 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-05 09:07:09,950 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 09:07:10,004 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-05 09:07:10,024 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-05 00:00:00, 2025-06-05 09:07:10
2025-06-05 09:07:10,031 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-05 09:07:10,042 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-05 09:07:10,057 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-05 09:07:10,089 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,112 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-05 09:07:10,146 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 09:07:10,150 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/regions HTTP/1.1" 200 -
2025-06-05 09:07:10,178 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-05 09:07:10,185 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-05 09:07:10,199 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,205 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,240 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 09:07:10,286 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 09:07:10,317 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-05 09:07:10,318 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 09:07:10,341 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-05 09:07:10,368 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 09:07:10,369 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,383 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 09:07:10,383 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 09:07:10,388 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-05 09:07:10,400 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-05 09:07:10,408 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-05 09:07:10,451 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-05 09:07:10,463 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 09:07:10,465 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 09:07:10,466 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-05 09:07:10,483 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 09:07:10,497 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-05 09:07:10,536 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,537 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,606 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-05 09:07:10,632 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-05 09:07:10,670 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:10,698 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-05 09:07:10,700 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-05 09:07:10,701 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpzdq3xee3\sdkrow1l.json
2025-06-05 09:07:10,783 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmpzdq3xee3\syhtq90l.json
2025-06-05 09:07:10,807 - cmdstanpy - DEBUG - idx 0
2025-06-05 09:07:10,821 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-05 09:07:10,857 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=37803', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpzdq3xee3\\sdkrow1l.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpzdq3xee3\\syhtq90l.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmpzdq3xee3\\prophet_model0pbt095d\\prophet_model-20250605090710.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-05 09:07:10,863 - cmdstanpy - INFO - Chain [1] start processing
2025-06-05 09:07:10,899 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-05 09:07:10,913 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:10] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 09:07:20,416 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:20] "GET /api/recent-activity?filter=this-month HTTP/1.1" 200 -
2025-06-05 09:07:24,109 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 09:07:24,110 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-05 09:07:24,113 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-05 09:07:24
2025-06-05 09:07:24,180 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:24] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-05 09:07:28,285 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:28] "GET /api/summary-metrics?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 09:07:32,512 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 09:07:32,513 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-05 09:07:32,516 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-05 00:00:00, 2025-06-05 09:07:32
2025-06-05 09:07:32,567 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-05 09:07:32,604 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:32] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-05 09:07:37,826 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 09:07:37,826 - __main__ - DEBUG - Parameters: filter=this-month, start_date=None, end_date=None
2025-06-05 09:07:37,827 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-01 00:00:00, 2025-06-05 09:07:37
2025-06-05 09:07:37,852 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:37] "GET /api/top-performers?filter=this-month HTTP/1.1" 200 -
2025-06-05 09:07:46,979 - cmdstanpy - INFO - Chain [1] done processing
2025-06-05 09:07:47,263 - werkzeug - INFO - 192.168.1.35 - - [05/Jun/2025 09:07:47] "GET /api/sales-trend?period_type=MS&start_date=2023-06-05&end_date=2025-06-05&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 09:53:52,493 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.35:5001
2025-06-05 09:53:52,494 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-05 09:53:52,499 - werkzeug - INFO -  * Restarting with stat
2025-06-05 09:53:56,527 - werkzeug - WARNING -  * Debugger is active!
2025-06-05 09:53:56,545 - werkzeug - INFO -  * Debugger PIN: 353-286-812
2025-06-05 10:11:35,748 - werkzeug - INFO -  * Detected change in 'C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\app.py', reloading
2025-06-05 10:11:36,552 - werkzeug - INFO -  * Restarting with stat
2025-06-05 10:11:46,732 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.35:5000
2025-06-05 10:11:46,733 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-05 10:11:46,736 - werkzeug - INFO -  * Restarting with stat
2025-06-05 10:11:50,480 - werkzeug - WARNING -  * Debugger is active!
2025-06-05 10:11:50,489 - werkzeug - INFO -  * Debugger PIN: 353-286-812
2025-06-05 10:11:50,746 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:50] "GET / HTTP/1.1" 200 -
2025-06-05 10:11:50,897 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:50] "GET /dashboard/static/js/chart.js HTTP/1.1" 200 -
2025-06-05 10:11:52,406 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-05 10:11:52,411 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 10:11:52,412 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:11:52,412 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 10:11:52,604 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-05', '2025-06-05']
2025-06-05 10:11:52,605 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-05', '2025-06-05']
2025-06-05 10:11:52,666 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-funnel?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:11:52,667 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-orders-unique-customers?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:11:52,669 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/recent-activity?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:11:52,678 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-05 10:11:52,682 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-05 10:11:52,683 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-05 10:11:52,702 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-05 10:11:52,702 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-05 10:11:52,703 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 10:11:52,703 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-by-salesperson?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:11:52,706 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:52,706 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-05 10:11:52,720 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:11:52,722 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 10:11:52,723 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-05 10:11:52,735 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 10:11:52,742 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 10:11:52,744 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-05 10:11:52,744 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-05 10:11:52,747 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:52,753 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-05 10:11:52,762 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 10:11:52,767 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:52,774 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 10:11:52,778 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:52,781 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-05 10:11:52,803 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-05 10:11:52,807 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-05 10:11:52,809 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 10:11:52,817 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-05 10:11:52,822 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-05 10:11:52,855 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-05 10:11:52,873 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-05 10:11:52,887 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-05 10:11:52,911 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-05 10:11:52,916 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-05 10:11:52,918 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:52,998 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:52] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-05 10:11:53,101 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 10:11:53,138 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-05 10:11:53,171 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-05 00:00:00, 2025-06-05 10:11:53
2025-06-05 10:11:53,183 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-05 10:11:53,186 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-05 10:11:53,204 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-05 10:11:53,228 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-05 10:11:53,266 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/regions HTTP/1.1" 200 -
2025-06-05 10:11:53,284 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-05 10:11:53,285 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 10:11:53,353 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-05 10:11:53,383 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-05 10:11:53,385 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:53,398 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:53,561 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-05 10:11:53,597 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 10:11:53,637 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 10:11:53,683 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:53,687 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:11:53,720 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 10:11:53,745 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 10:11:53,748 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 10:11:53,795 - cmdstanpy - DEBUG - Adding TBB (C:\Users\97152\Documents\SASPRO PROJECTS\sales_trend_chart\venv\lib\site-packages\prophet\stan_model\cmdstan-2.33.1\stan\lib\stan_math\lib\tbb) to PATH
2025-06-05 10:11:53,836 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-05 10:11:53,836 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 10:11:53,836 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 10:11:53,851 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-05 10:11:53,852 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp1vwqv3av\47s0ooe2.json
2025-06-05 10:11:53,862 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 10:11:53,866 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:53,888 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:53] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:53,901 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp1vwqv3av\m81m4di0.json
2025-06-05 10:11:53,915 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-05 10:11:53,933 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-05 10:11:53,937 - cmdstanpy - DEBUG - idx 0
2025-06-05 10:11:53,952 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-05 10:11:53,939 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-05 10:11:53,962 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=99181', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\47s0ooe2.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\m81m4di0.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\prophet_modelrrs6lh0r\\prophet_model-20250605101153.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-05 10:11:53,972 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-05 10:11:53,981 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-05 10:11:53,976 - cmdstanpy - INFO - Chain [1] start processing
2025-06-05 10:11:53,990 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-05 10:11:54,020 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:54] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:54,034 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-05 10:11:54,036 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:54] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:11:54,065 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:54] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:11:54,122 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:54] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-05 10:11:54,196 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-05 10:11:54,215 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-05 10:11:54,301 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-05 10:11:54,316 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:11:54] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:12:00,454 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:12:00] "GET /api/summary-metrics?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:12:21,365 - cmdstanpy - INFO - Chain [1] done processing
2025-06-05 10:12:21,628 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:12:21] "GET /api/sales-trend?period_type=MS&start_date=2023-06-05&end_date=2025-06-05&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:24,850 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:24] "GET / HTTP/1.1" 200 -
2025-06-05 10:13:25,131 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:25] "GET /dashboard/static/js/chart.js HTTP/1.1" 200 -
2025-06-05 10:13:25,941 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:25] "GET /api/pending-orders HTTP/1.1" 200 -
2025-06-05 10:13:25,953 - __main__ - DEBUG - Starting /api/summary-metrics
2025-06-05 10:13:25,956 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 10:13:25,986 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:13:25,988 - __main__ - DEBUG - Parameters: start_date=2023-06-05, end_date=2025-06-05
2025-06-05 10:13:25,997 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:25] "GET /api/sales-orders-unique-customers?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:13:26,033 - __main__ - DEBUG - Executing main query: 
            SELECT 
                SUM(total_amount) AS total_sales,
                AVG(total_amount) AS avg_order_value,
                COUNT(*) AS num_orders
            FROM sales_orders
             WHERE order_date >= ? AND order_date <= ? with params: ['2023-06-05', '2025-06-05']
2025-06-05 10:13:26,053 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/recent-activity?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:13:26,080 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL AND so.order_date >= ? AND so.order_date <= ? GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: ['2023-06-05', '2025-06-05']
2025-06-05 10:13:26,119 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-funnel?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:13:26,126 - __main__ - DEBUG - Raw query results: [('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154269.97')), ('Isabella Chen', Decimal('13131419.98')), ('Henry Adams', Decimal('12121999.96')), ('Grace Liu', Decimal('11111399.99')), ('Frank Patel', Decimal('10101079.98')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8081799.98')), ('Clara Lee', Decimal('7090999.85')), ('Bob Carter', Decimal('6093599.97')), ('Alice Johnson', Decimal('5101399.97'))]
2025-06-05 10:13:26,136 - __main__ - DEBUG - Response: {'salespersons': ['Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131419.98, 12121999.96, 11111399.99, 10101079.98, 9091849.95, 8081799.98, 7090999.85, 6093599.97, 5101399.97]}
2025-06-05 10:13:26,155 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-by-salesperson?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:13:26,383 - __main__ - DEBUG - Parameters: region_label=None, selected_date=None
2025-06-05 10:13:26,395 - cmdstanpy - DEBUG - cmd: where.exe tbb.dll
cwd: None
2025-06-05 10:13:26,421 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: []
2025-06-05 10:13:26,441 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 10:13:26,446 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-05-01']
2025-06-05 10:13:26,452 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-funnel?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:26,496 - __main__ - DEBUG - Raw query results: [('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15151500.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7071099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('2000.00')), ('John Doe', Decimal('1000.00')), (None, Decimal('700.00'))]
2025-06-05 10:13:26,517 - __main__ - DEBUG - Response: {'customers': ['Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'John Doe', 'Unknown'], 'revenues': [20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7071099.94, 6061599.99, 5051099.98, 2000.0, 1000.0, 700.0], 'cumulative_percentages': [10.0, 19.5, 28.5, 37.0, 44.99, 52.49, 59.5, 66.0, 72.0, 77.5, 82.5, 87.0, 91.0, 94.5, 97.5, 100.0, 100.0, 100.0, 100.0]}
2025-06-05 10:13:26,536 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-by-customer?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:26,586 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:13:26,619 - __main__ - DEBUG - Raw query results: [('Canada - British Columbia', Decimal('23234099.97')), ('Australia - Victoria', Decimal('22224599.96')), ('Japan - Osaka', Decimal('21212249.99')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9092649.94')), ('USA - California', Decimal('8081149.94')), ('India - Delhi', Decimal('7071789.96')), ('India - Karnataka', Decimal('6061339.96')), ('India - Maharashtra', Decimal('5150549.99')), ('France - le-de-France', Decimal('399.98'))]
2025-06-05 10:13:26,621 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 10:13:26,707 - __main__ - DEBUG - Response: {'regions': ['Canada - British Columbia', 'Australia - Victoria', 'Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra', 'France - le-de-France'], 'sales': [23234099.97, 22224599.96, 21212249.99, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9092649.94, 8081149.94, 7071789.96, 6061339.96, 5150549.99, 399.98]}
2025-06-05 10:13:26,806 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-by-region?2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:26,859 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 10:13:26,884 - __main__ - DEBUG - Parameters: selected_date=2025-05-01
2025-06-05 10:13:26,933 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 10:13:26,954 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-05-01
2025-06-05 10:13:26,956 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 10:13:26,957 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 10:13:26,989 - cmdstanpy - DEBUG - TBB already found in load path
2025-06-05 10:13:26,990 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-05-01', '2025-05-31']
2025-06-05 10:13:26,999 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:26] "GET /api/sales-by-salesperson?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:27,091 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('799.98'))]
2025-06-05 10:13:27,160 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp1vwqv3av\kbwmdqxi.json
2025-06-05 10:13:27,198 - __main__ - DEBUG - Response: {'categories': ['Electronics'], 'sales': [100.0]}
2025-06-05 10:13:27,233 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/sales-by-category?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:27,255 - __main__ - DEBUG - Parameters: period_type=MS, start_date=2025-03-31, end_date=2025-05-30
2025-06-05 10:13:27,256 - cmdstanpy - DEBUG - input tempfile: C:\Users\97152\AppData\Local\Temp\tmp1vwqv3av\16h3chn_.json
2025-06-05 10:13:27,286 - __main__ - DEBUG - Executing query: SELECT DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) AS period, SUM(total_amount) AS total_sales FROM sales_orders WHERE order_date >= ? AND order_date <= ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, order_date), 0) ORDER BY period with params: ['2025-03-31', '2025-05-30']
2025-06-05 10:13:27,315 - cmdstanpy - DEBUG - idx 0
2025-06-05 10:13:27,366 - __main__ - DEBUG - Response: {'periods': ['2025-05-01'], 'growth_rates': [103.99], 'period_type': 'MS'}
2025-06-05 10:13:27,387 - cmdstanpy - DEBUG - running CmdStan, num_threads: None
2025-06-05 10:13:27,406 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/sales-growth-rate?period_type=MS&start_date=2025-03-31&end_date=2025-05-30 HTTP/1.1" 200 -
2025-06-05 10:13:27,406 - cmdstanpy - DEBUG - CmdStan args: ['C:\\Users\\97152\\Documents\\SASPRO PROJECTS\\sales_trend_chart\\venv\\Lib\\site-packages\\prophet\\stan_model\\prophet_model.bin', 'random', 'seed=26518', 'data', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\kbwmdqxi.json', 'init=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\16h3chn_.json', 'output', 'file=C:\\Users\\97152\\AppData\\Local\\Temp\\tmp1vwqv3av\\prophet_model6jdwzz_e\\prophet_model-20250605101327.csv', 'method=optimize', 'algorithm=newton', 'iter=10000']
2025-06-05 10:13:27,423 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-05-01
2025-06-05 10:13:27,424 - cmdstanpy - INFO - Chain [1] start processing
2025-06-05 10:13:27,463 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-05-01']
2025-06-05 10:13:27,522 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 5, 1, 0, 0), 11, 1), (datetime.datetime(2025, 5, 1, 0, 0), 17, 3), (datetime.datetime(2025, 5, 1, 0, 0), 998, 1), (datetime.datetime(2025, 5, 1, 0, 0), 999, 1)]
2025-06-05 10:13:27,803 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-05-01'], 'repeat_sales': [20000799.98], 'new_sales': [21212100.0]}
2025-06-05 10:13:27,823 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:27,851 - __main__ - DEBUG - Starting /api/top-performers
2025-06-05 10:13:27,904 - __main__ - DEBUG - Parameters: filter=today, start_date=None, end_date=None
2025-06-05 10:13:27,906 - __main__ - DEBUG - Executing query: 
            SELECT sp.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons sp ON so.salesperson_id = sp.salesperson_id
            WHERE so.order_date >= ? AND so.order_date <= ?
            GROUP BY sp.salesperson_name
            ORDER BY total_sales DESC
         with params: 2025-06-05 00:00:00, 2025-06-05 10:13:27
2025-06-05 10:13:27,919 - __main__ - INFO - No data for 'today', falling back to 2024-01-01 to 2025-06-03
2025-06-05 10:13:27,924 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/recent-activity?filter=today HTTP/1.1" 200 -
2025-06-05 10:13:27,942 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/top-performers?filter=today HTTP/1.1" 200 -
2025-06-05 10:13:27,952 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212]}
2025-06-05 10:13:27,957 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:27] "GET /api/sales-target-vs-achievement?selected_date=2025-05-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,244 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/regions HTTP/1.1" 200 -
2025-06-05 10:13:28,247 - __main__ - DEBUG - Parameters: region_label=None, selected_date=2025-06-01
2025-06-05 10:13:28,251 - __main__ - DEBUG - Executing query: SELECT (r.country + ' - ' + r.state) AS region_label, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN regions r ON so.region_id = r.region_id WHERE so.order_date <= ? GROUP BY r.region_id, r.country, r.state ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 10:13:28,283 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 10:13:28,301 - __main__ - DEBUG - Executing query: SELECT c.customer_name, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN customers c ON so.customer_id = c.customer_id WHERE so.order_date <= ? GROUP BY c.customer_id, c.customer_name ORDER BY total_sales DESC with params: ['2025-06-01']
2025-06-05 10:13:28,303 - __main__ - DEBUG - Raw query results: [('Japan - Osaka', Decimal('21212100.00')), ('Germany - Berlin', Decimal('20202799.98')), ('UK - Manchester', Decimal('19192399.99')), ('USA - Florida', Decimal('18181999.90')), ('USA - Texas', Decimal('17173699.98')), ('India - West Bengal', Decimal('16161899.99')), ('India - Tamil Nadu', Decimal('15151769.97')), ('Canada - Ontario', Decimal('14154119.98')), ('Australia - New South Wales', Decimal('13132099.96')), ('Japan - Tokyo', Decimal('12121499.99')), ('Germany - Bavaria', Decimal('11111179.98')), ('UK - London', Decimal('10101149.97')), ('USA - New York', Decimal('9091399.99')), ('USA - California', Decimal('8080899.95')), ('India - Delhi', Decimal('7071699.99')), ('India - Karnataka', Decimal('6061199.98')), ('India - Maharashtra', Decimal('5070500.00'))]
2025-06-05 10:13:28,330 - __main__ - DEBUG - Response: {'regions': ['Japan - Osaka', 'Germany - Berlin', 'UK - Manchester', 'USA - Florida', 'USA - Texas', 'India - West Bengal', 'India - Tamil Nadu', 'Canada - Ontario', 'Australia - New South Wales', 'Japan - Tokyo', 'Germany - Bavaria', 'UK - London', 'USA - New York', 'USA - California', 'India - Delhi', 'India - Karnataka', 'India - Maharashtra'], 'sales': [21212100.0, 20202799.98, 19192399.99, 18181999.9, 17173699.98, 16161899.99, 15151769.97, 14154119.98, 13132099.96, 12121499.99, 11111179.98, 10101149.97, 9091399.99, 8080899.95, 7071699.99, 6061199.98, 5070500.0]}
2025-06-05 10:13:28,333 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/sales-by-region?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,382 - __main__ - DEBUG - Raw query results: [('Sophia White', Decimal('21212100.00')), ('Prime Supplies', Decimal('20202000.00')), ('Isabella Turner', Decimal('19191900.00')), ('Daniel Clark', Decimal('18181800.00')), ('Nova Enterprises', Decimal('17171700.00')), ('Olivia Martinez', Decimal('16161600.00')), ('Kevin Lee', Decimal('15152299.98')), ('John Doe', Decimal('15001000.00')), ('Retail Chain', Decimal('14154269.97')), ('Lisa Green', Decimal('13131919.97')), ('Tech Innovations', Decimal('12121999.96')), ('Emma Davis', Decimal('11111599.89')), ('Mike Wilson', Decimal('10101079.98')), ('Sarah Brown', Decimal('9093049.95')), ('Global Ltd', Decimal('8081299.99')), ('Acme Corp', Decimal('7091099.94')), ('Jane Smith', Decimal('6061599.99')), ('John Doe', Decimal('5051099.98')), ('Jane Smith', Decimal('5002000.00')), (None, Decimal('700.00'))]
2025-06-05 10:13:28,391 - __main__ - DEBUG - Response: {'customers': ['Sophia White', 'Prime Supplies', 'Isabella Turner', 'Daniel Clark', 'Nova Enterprises', 'Olivia Martinez', 'Kevin Lee', 'John Doe', 'Retail Chain', 'Lisa Green', 'Tech Innovations', 'Emma Davis', 'Mike Wilson', 'Sarah Brown', 'Global Ltd', 'Acme Corp', 'Jane Smith', 'John Doe', 'Jane Smith', 'Unknown'], 'revenues': [21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15152299.98, 15001000.0, 14154269.97, 13131919.97, 12121999.96, 11111599.89, 10101079.98, 9093049.95, 8081299.99, 7091099.94, 6061599.99, 5051099.98, 5002000.0, 700.0], 'cumulative_percentages': [8.72, 17.02, 24.91, 32.39, 39.44, 46.09, 52.32, 58.48, 64.3, 69.7, 74.68, 79.25, 83.4, 87.14, 90.46, 93.38, 95.87, 97.94, 100.0, 100.0]}
2025-06-05 10:13:28,396 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/sales-funnel?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,402 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/sales-by-customer?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,569 - __main__ - DEBUG - Starting /api/sales-by-salesperson
2025-06-05 10:13:28,570 - __main__ - DEBUG - Parameters: start_date=None, end_date=None
2025-06-05 10:13:28,570 - __main__ - DEBUG - Executing query: 
            SELECT s.salesperson_name, SUM(so.total_amount) AS total_sales
            FROM sales_orders so
            JOIN salespersons s ON so.salesperson_id = s.salesperson_id
             WHERE so.order_date IS NOT NULL AND so.total_amount IS NOT NULL GROUP BY s.salesperson_name ORDER BY total_sales DESC with params: []
2025-06-05 10:13:28,596 - __main__ - DEBUG - Raw query results: [('Samuel White', Decimal('23232300.00')), ('Rachel Lee', Decimal('22222200.00')), ('Quinn Johnson', Decimal('21212100.00')), ('Peter Martinez', Decimal('20202000.00')), ('Olivia Robinson', Decimal('19191900.00')), ('Noah Walker', Decimal('18181800.00')), ('Mia Thompson', Decimal('17171700.00')), ('Liam Garcia', Decimal('16161600.00')), ('Katherine Smith', Decimal('15151500.00')), ('James Brown', Decimal('14154319.96')), ('Isabella Chen', Decimal('13131819.96')), ('Henry Adams', Decimal('12123799.93')), ('Grace Liu', Decimal('11113799.95')), ('Frank Patel', Decimal('10101229.97')), ('Emma Wong', Decimal('9091849.95')), ('David Kim', Decimal('8083049.93')), ('Clara Lee', Decimal('7091249.84')), ('Bob Carter', Decimal('6093689.94')), ('Alice Johnson', Decimal('5101539.95'))]
2025-06-05 10:13:28,603 - __main__ - DEBUG - Response: {'salespersons': ['Samuel White', 'Rachel Lee', 'Quinn Johnson', 'Peter Martinez', 'Olivia Robinson', 'Noah Walker', 'Mia Thompson', 'Liam Garcia', 'Katherine Smith', 'James Brown', 'Isabella Chen', 'Henry Adams', 'Grace Liu', 'Frank Patel', 'Emma Wong', 'David Kim', 'Clara Lee', 'Bob Carter', 'Alice Johnson'], 'sales': [23232300.0, 22222200.0, 21212100.0, 20202000.0, 19191900.0, 18181800.0, 17171700.0, 16161600.0, 15151500.0, 14154319.96, 13131819.96, 12123799.93, 11113799.95, 10101229.97, 9091849.95, 8083049.93, 7091249.84, 6093689.94, 5101539.95]}
2025-06-05 10:13:28,606 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/sales-by-salesperson?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,684 - __main__ - DEBUG - Parameters: selected_date=2025-06-01
2025-06-05 10:13:28,712 - __main__ - DEBUG - Raw query results: [('Henry Adams', '2024-01', Decimal('20000.00'), 8), ('Alice Johnson', '2024-01-01', Decimal('5000000.00'), 1), ('Isabella Chen', '2024-02', Decimal('25000.00'), 9), ('Bob Carter', '2024-02-01', Decimal('6000000.00'), 2), ('James Brown', '2024-03', Decimal('30000.00'), 10), ('Clara Lee', '2024-03-01', Decimal('7000000.00'), 3), ('Rachel Lee', '2024-04', Decimal('22000.00'), 18), ('David Kim', '2024-04-01', Decimal('8000000.00'), 4), ('Samuel White', '2024-05', Decimal('27000.00'), 19), ('Emma Wong', '2024-05-01', Decimal('9000000.00'), 5), ('Tina Harris', '2024-06', Decimal('32000.00'), 20), ('Frank Patel', '2024-06-01', Decimal('10000000.00'), 6), ('Grace Liu', '2024-07-01', Decimal('11000000.00'), 7), ('Henry Adams', '2024-08-01', Decimal('18000000.00'), 8), ('Isabella Chen', '2024-09-01', Decimal('13000000.00'), 9), ('James Brown', '2024-10-01', Decimal('14000000.00'), 10), ('Katherine Smith', '2024-11-01', Decimal('15000000.00'), 11), ('Liam Garcia', '2024-12-01', Decimal('16000000.00'), 12), ('Alice Johnson', '2024-Q1', Decimal('100000.00'), 1), ('Bob Carter', '2024-Q1', Decimal('80000.00'), 2), ('Clara Lee', '2024-Q2', Decimal('120000.00'), 3), ('Katherine Smith', '2024-Q2', Decimal('95000.00'), 11), ('Liam Garcia', '2024-Q2', Decimal('87000.00'), 12), ('David Kim', '2024-Q3', Decimal('150000.00'), 4), ('Mia Thompson', '2024-Q3', Decimal('125000.00'), 13), ('Noah Walker', '2024-Q3', Decimal('140000.00'), 14), ('Emma Wong', '2024-Q4', Decimal('90000.00'), 5), ('Olivia Robinson', '2024-Q4', Decimal('92000.00'), 15), ('Mia Thompson', '2025-01-01', Decimal('17000000.00'), 13), ('Noah Walker', '2025-02-01', Decimal('18000000.00'), 14), ('Olivia Robinson', '2025-03-01', Decimal('19000000.00'), 15), ('Peter Martinez', '2025-04-01', Decimal('20000000.00'), 16), ('Quinn Johnson', '2025-05-01', Decimal('17500000.00'), 17), ('Rachel Lee', '2025-06-01', Decimal('18500000.00'), 18), ('Samuel White', '2025-07-01', Decimal('19500000.00'), 19), ('Frank Patel', '2025-Q1', Decimal('110000.00'), 6), ('Grace Liu', '2025-Q1', Decimal('130000.00'), 7), ('Peter Martinez', '2025-Q2', Decimal('115000.00'), 16), ('Quinn Johnson', '2025-Q2', Decimal('135000.00'), 17)]
2025-06-05 10:13:28,760 - __main__ - DEBUG - Parameters: period_type=MS, start_date=None, end_date=None, selected_date=2025-06-01
2025-06-05 10:13:28,787 - __main__ - DEBUG - Executing query: SELECT p.category, SUM(so.total_amount) AS total_sales FROM sales_orders so JOIN products p ON so.product_id = p.product_id WHERE so.order_date >= ? AND so.order_date <= ? GROUP BY p.category ORDER BY total_sales DESC with params: ['2025-06-01', '2025-06-30']
2025-06-05 10:13:28,797 - __main__ - DEBUG - Parameters: start_date=None, end_date=None, period_type=MS, selected_date=2025-06-01
2025-06-05 10:13:28,819 - __main__ - DEBUG - Executing order count query: 
            SELECT 
                DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) AS period,
                so.customer_id, 
                COUNT(*) AS order_count
            FROM sales_orders so
         WHERE DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0) = ? GROUP BY DATEADD(MONTH, DATEDIFF(MONTH, 0, so.order_date), 0), so.customer_id with params: ['2025-06-01']
2025-06-05 10:13:28,853 - __main__ - DEBUG - Raw query results: [('Electronics', Decimal('100000.00')), ('Apparel', Decimal('149.99'))]
2025-06-05 10:13:28,856 - __main__ - DEBUG - Raw query results: [(datetime.datetime(2025, 6, 1, 0, 0), 1, 1), (datetime.datetime(2025, 6, 1, 0, 0), 2, 1), (datetime.datetime(2025, 6, 1, 0, 0), 3, 1), (datetime.datetime(2025, 6, 1, 0, 0), 12, 1), (datetime.datetime(2025, 6, 1, 0, 0), 18, 3)]
2025-06-05 10:13:28,886 - __main__ - DEBUG - Response: {'categories': ['Electronics', 'Apparel'], 'sales': [99.85, 0.15]}
2025-06-05 10:13:28,944 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "GET /api/sales-by-category?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:28,953 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:28] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 204 -
2025-06-05 10:13:29,006 - __main__ - DEBUG - Response: {'period_type': 'MS', 'periods': ['2025-06-01'], 'repeat_sales': [100149.99], 'new_sales': [22222200.0]}
2025-06-05 10:13:29,008 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:29] "GET /api/repeat-vs-new-sales?period_type=MS&selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:29,049 - __main__ - DEBUG - Response: {'labels': ['Henry Adams (2024-01)', 'Alice Johnson (2024-01)', 'Isabella Chen (2024-02)', 'Bob Carter (2024-02)', 'James Brown (2024-03)', 'Clara Lee (2024-03)', 'Rachel Lee (2024-04)', 'David Kim (2024-04)', 'Samuel White (2024-05)', 'Emma Wong (2024-05)', 'Tina Harris (2024-06)', 'Frank Patel (2024-06)', 'Grace Liu (2024-07)', 'Henry Adams (2024-08)', 'Isabella Chen (2024-09)', 'James Brown (2024-10)', 'Katherine Smith (2024-11)', 'Liam Garcia (2024-12)', 'Alice Johnson (2024-01)', 'Bob Carter (2024-01)', 'Clara Lee (2024-04)', 'Katherine Smith (2024-04)', 'Liam Garcia (2024-04)', 'David Kim (2024-07)', 'Mia Thompson (2024-07)', 'Noah Walker (2024-07)', 'Emma Wong (2024-10)', 'Olivia Robinson (2024-10)', 'Mia Thompson (2025-01)', 'Noah Walker (2025-02)', 'Olivia Robinson (2025-03)', 'Peter Martinez (2025-04)', 'Quinn Johnson (2025-05)', 'Rachel Lee (2025-06)'], 'targets': [20000.0, 5000000.0, 25000.0, 6000000.0, 30000.0, 7000000.0, 22000.0, 8000000.0, 27000.0, 9000000.0, 32000.0, 10000000.0, 11000000.0, 18000000.0, 13000000.0, 14000000.0, 15000000.0, 16000000.0, 100000.0, 80000.0, 120000.0, 95000.0, 87000.0, 150000.0, 125000.0, 140000.0, 90000.0, 92000.0, 17000000.0, 18000000.0, 19000000.0, 20000000.0, 17500000.0, 18500000.0], 'achieved': [0.0, 5051099.98, 0.0, 6061599.99, 0.0, 7070799.95, 0.0, 8081299.99, 0.0, 9091049.97, 0.0, 10101079.98, 11111399.99, 12121999.96, 13131419.98, 14154269.97, 15151500.0, 16161600.0, 5051099.98, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 17171700.0, 18181800.0, 19191900.0, 20202000.0, 21212100.0, 22222200.0], 'percentages': [0.0, 101.0219996, 0.0, 101.0266665, 0.0, 101.01142785714285, 0.0, 101.016249875, 0.0, 101.01166633333334, 0.0, 101.0107998, 101.01272718181818, 67.34444422222222, 101.01092292307692, 101.10192835714287, 101.01, 101.01, 5051.099980000001, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 101.01, 101.01, 101.01, 101.01, 121.212, 120.12]}
2025-06-05 10:13:29,053 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:29] "GET /api/sales-target-vs-achievement?selected_date=2025-06-01 HTTP/1.1" 200 -
2025-06-05 10:13:35,646 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:35] "GET /api/summary-metrics?start_date=2023-06-05&end_date=2025-06-05 HTTP/1.1" 200 -
2025-06-05 10:13:50,960 - cmdstanpy - INFO - Chain [1] done processing
2025-06-05 10:13:51,106 - werkzeug - INFO - 127.0.0.1 - - [05/Jun/2025 10:13:51] "GET /api/sales-trend?period_type=MS&start_date=2023-06-05&end_date=2025-06-05&forecast_start=2026-01-01&selected_date=2025-05-01 HTTP/1.1" 200 -
